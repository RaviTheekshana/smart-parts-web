(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:l="",children:o,iconNode:d,...c},u)=>(0,t.createElement)("svg",{ref:u,...n,width:r,height:r,stroke:e,strokeWidth:i?24*Number(s)/Number(r):s,className:a("lucide",l),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"},...c},[...d.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(o)?o:[o]])),i=(e,n)=>{let i=(0,t.forwardRef)(({className:i,...l},o)=>(0,t.createElement)(s,{ref:o,iconNode:n,className:a(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...l}));return i.displayName=r(e),i};e.s(["default",()=>i],75254)},18566,(e,t,r)=>{t.exports=e.r(76562)},55838,(e,t,r)=>{"use strict";var a=e.r(71645),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=a.useState,i=a.useEffect,l=a.useLayoutEffect,o=a.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var c="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=s({inst:{value:r,getSnapshot:t}}),n=a[0].inst,c=a[1];return l(function(){n.value=r,n.getSnapshot=t,d(n)&&c({inst:n})},[e,r,t]),i(function(){return d(n)&&c({inst:n}),e(function(){d(n)&&c({inst:n})})},[e]),o(r),r};r.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:c},2239,(e,t,r)=>{"use strict";t.exports=e.r(55838)},83599,17805,e=>{"use strict";let t;var r=e.i(71645),a=e.i(2239);e.s(["ERROR_REVALIDATE_EVENT",()=>3,"FOCUS_EVENT",()=>0,"MUTATE_EVENT",()=>2,"RECONNECT_EVENT",()=>1],11671);var n=Object.prototype.hasOwnProperty;let s=new WeakMap,i=()=>{},l=i(),o=Object,d=e=>e===l,c=e=>"function"==typeof e,u=(e,t)=>({...e,...t}),f=e=>c(e.then),h={},m={},x="undefined",p=typeof window!=x,b=typeof document!=x,g=p&&"Deno"in window,v=(e,t)=>{let r=s.get(e);return[()=>!d(t)&&e.get(t)||h,a=>{if(!d(t)){let n=e.get(t);t in m||(m[t]=n),r[5](t,u(n,a),n||h)}},r[6],()=>!d(t)&&t in m?m[t]:!d(t)&&e.get(t)||h]},w=!0,[y,k]=p&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[i,i],j={initFocus:e=>(b&&document.addEventListener("visibilitychange",e),y("focus",e),()=>{b&&document.removeEventListener("visibilitychange",e),k("focus",e)}),initReconnect:e=>{let t=()=>{w=!0,e()},r=()=>{w=!1};return y("online",t),y("offline",r),()=>{k("online",t),k("offline",r)}}},N=!r.default.useId,E=!p||g,S=e=>p&&typeof window.requestAnimationFrame!=x?window.requestAnimationFrame(e):setTimeout(e,1),O=E?r.useEffect:r.useLayoutEffect,R="u">typeof navigator&&navigator.connection,T=!E&&R&&(["slow-2g","2g"].includes(R.effectiveType)||R.saveData),_=new WeakMap,L=(e,t)=>e===`[object ${t}]`,C=0,V=e=>{let t,r,a=typeof e,n=o.prototype.toString.call(e),s=L(n,"Date"),i=L(n,"RegExp"),l=L(n,"Object");if(o(e)!==e||s||i)t=s?e.toJSON():"symbol"==a?e.toString():"string"==a?JSON.stringify(e):""+e;else{if(t=_.get(e))return t;if(t=++C+"~",_.set(e,t),Array.isArray(e)){for(r=0,t="@";r<e.length;r++)t+=V(e[r])+",";_.set(e,t)}if(l){t="#";let a=o.keys(e).sort();for(;!d(r=a.pop());)d(e[r])||(t+=r+":"+V(e[r])+",");_.set(e,t)}}return t},A=e=>{if(c(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?V(e):"",t]},D=0,P=()=>++D;async function I(...e){let[t,r,a,n]=e,i=u({populateCache:!0,throwOnError:!0},"boolean"==typeof n?{revalidate:n}:n||{}),o=i.populateCache,h=i.rollbackOnError,m=i.optimisticData,x=i.throwOnError;if(c(r)){let e=[];for(let a of t.keys())!/^\$(inf|sub)\$/.test(a)&&r(t.get(a)._k)&&e.push(a);return Promise.all(e.map(p))}return p(r);async function p(r){let n,[u]=A(r);if(!u)return;let[p,b]=v(t,u),[g,w,y,k]=s.get(t),j=()=>{let e=g[u];return(c(i.revalidate)?i.revalidate(p().data,r):!1!==i.revalidate)&&(delete y[u],delete k[u],e&&e[0])?e[0](2).then(()=>p().data):p().data};if(e.length<3)return j();let N=a,E=!1,S=P();w[u]=[S,0];let O=!d(m),R=p(),T=R.data,_=R._c,L=d(_)?T:_;if(O&&b({data:m=c(m)?m(L,T):m,_c:L}),c(N))try{N=N(L)}catch(e){n=e,E=!0}if(N&&f(N)){let e;if(N=await N.catch(e=>{n=e,E=!0}),S!==w[u][0]){if(E)throw n;return N}E&&O&&(e=n,"function"==typeof h?h(e):!1!==h)&&(o=!0,b({data:L,_c:l}))}if(o&&!E&&(c(o)?b({data:o(N,L),error:l,_c:l}):b({data:N,error:l,_c:l})),w[u][1]=P(),Promise.resolve(j()).then(()=>{b({_c:l})}),E){if(x)throw n;return}return N}}let $=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},F=(e,t)=>{if(!s.has(e)){let r=u(j,t),a=Object.create(null),n=I.bind(l,e),o=i,d=Object.create(null),c=(e,t)=>{let r=d[e]||[];return d[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},f=(t,r,a)=>{e.set(t,r);let n=d[t];if(n)for(let e of n)e(r,a)},h=()=>{if(!s.has(e)&&(s.set(e,[a,Object.create(null),Object.create(null),Object.create(null),n,f,c]),!E)){let t=r.initFocus(setTimeout.bind(l,$.bind(l,a,0))),n=r.initReconnect(setTimeout.bind(l,$.bind(l,a,1)));o=()=>{t&&t(),n&&n(),s.delete(e)}}};return h(),[e,n,h,o]}return[e,s.get(e)[4]]},[M,U]=F(new Map),W=u({onLoadingSlow:i,onSuccess:i,onError:i,onErrorRetry:(e,t,r,a,n)=>{let s=r.errorRetryCount,i=n.retryCount,l=~~((Math.random()+.5)*(1<<(i<8?i:8)))*r.errorRetryInterval;(d(s)||!(i>s))&&setTimeout(a,l,n)},onDiscarded:i,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:T?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:T?5e3:3e3,compare:function e(t,r){var a,s;if(t===r)return!0;if(t&&r&&(a=t.constructor)===r.constructor){if(a===Date)return t.getTime()===r.getTime();if(a===RegExp)return t.toString()===r.toString();if(a===Array){if((s=t.length)===r.length)for(;s--&&e(t[s],r[s]););return -1===s}if(!a||"object"==typeof t){for(a in s=0,t)if(n.call(t,a)&&++s&&!n.call(r,a)||!(a in r)||!e(t[a],r[a]))return!1;return Object.keys(r).length===s}}return t!=t&&r!=r},isPaused:()=>!1,cache:M,mutate:U,fallback:{}},{isOnline:()=>w,isVisible:()=>{let e=b&&document.visibilityState;return d(e)||"hidden"!==e}}),z=(e,t)=>{let r=u(e,t);if(t){let{use:a,fallback:n}=e,{use:s,fallback:i}=t;a&&s&&(r.use=a.concat(s)),n&&i&&(r.fallback=u(n,i))}return r},q=(0,r.createContext)({}),B=e=>{let{value:t}=e,a=(0,r.useContext)(q),n=c(t),s=(0,r.useMemo)(()=>n?t(a):t,[n,a,t]),i=(0,r.useMemo)(()=>n?s:z(a,s),[n,a,s]),o=s&&s.provider,d=(0,r.useRef)(l);o&&!d.current&&(d.current=F(o(i.cache||M),s));let f=d.current;return f&&(i.cache=f[0],i.mutate=f[1]),O(()=>{if(f)return f[2]&&f[2](),f[3]},[]),(0,r.createElement)(q.Provider,u(e,{value:i}))};e.s(["A",()=>i,"B",()=>f,"I",()=>E,"O",()=>o,"S",()=>q,"U",()=>l,"a",()=>c,"b",()=>s,"c",()=>M,"d",()=>W,"e",()=>d,"f",()=>z,"g",()=>B,"i",()=>p,"j",()=>U,"m",()=>u,"n",()=>I,"o",()=>P,"r",()=>N,"s",()=>A,"t",()=>S,"u",()=>O,"z",()=>v],17805);var J=e.i(11671);let K=p&&window.__SWR_DEVTOOLS_USE__,Y=(K?window.__SWR_DEVTOOLS_USE__:[]).concat(e=>(t,r,a)=>{let n=r&&((...e)=>{let[a]=A(t),[,,,n]=s.get(M);if(a.startsWith("$inf$"))return r(...e);let i=n[a];return d(i)?r(...e):(delete n[a],i)});return e(t,n,a)});K&&(window.__SWR_DEVTOOLS_REACT__=r.default);let Z=()=>{},H=Z(),Q=(new WeakMap,r.default.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}})),G={dedupe:!0},X=Promise.resolve(l),ee=()=>i;o.defineProperty(B,"defaultValue",{value:W});let et=(t=(e,t,n)=>{let{cache:i,compare:o,suspense:h,fallbackData:m,revalidateOnMount:x,revalidateIfStale:p,refreshInterval:b,refreshWhenHidden:g,refreshWhenOffline:w,keepPreviousData:y,strictServerPrefetchWarning:k}=n,[j,R,T,_]=s.get(i),[L,C]=A(e),V=(0,r.useRef)(!1),D=(0,r.useRef)(!1),$=(0,r.useRef)(L),F=(0,r.useRef)(t),M=(0,r.useRef)(n),U=()=>M.current.isVisible()&&M.current.isOnline(),[W,z,q,B]=v(i,L),K=(0,r.useRef)({}).current,Y=d(m)?d(n.fallback)?l:n.fallback[L]:m,Z=(e,t)=>{for(let r in K)if("data"===r){if(!o(e[r],t[r])&&(!d(e[r])||!o(eo,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},H=!V.current,et=(0,r.useMemo)(()=>{let e=W(),r=B(),a=e=>{let r=u(e);return(delete r._k,(()=>{if(!L||!t||M.current.isPaused())return!1;if(H&&!d(x))return x;let e=d(Y)?r.data:Y;return d(e)||p})())?{isValidating:!0,isLoading:!0,...r}:r},n=a(e),s=e===r?n:a(r),i=n;return[()=>{let e=a(W());return Z(e,i)?(i.data=e.data,i.isLoading=e.isLoading,i.isValidating=e.isValidating,i.error=e.error,i):(i=e,e)},()=>s]},[i,L]),er=(0,a.useSyncExternalStore)((0,r.useCallback)(e=>q(L,(t,r)=>{Z(r,t)||e()}),[i,L]),et[0],et[1]),ea=j[L]&&j[L].length>0,en=er.data,es=d(en)?Y&&f(Y)?Q(Y):Y:en,ei=er.error,el=(0,r.useRef)(es),eo=y?d(en)?d(el.current)?es:el.current:en:es,ed=L&&d(es),ec=(0,r.useRef)(null);E||(0,a.useSyncExternalStore)(ee,()=>(ec.current=!1,ec),()=>(ec.current=!0,ec));let eu=ec.current;k&&eu&&!h&&ed&&console.warn(`Missing pre-initiated data for serialized key "${L}" during server-side rendering. Data fetching should be initiated on the server and provided to SWR via fallback data. You can set "strictServerPrefetchWarning: false" to disable this warning.`);let ef=!(!L||!t||M.current.isPaused())&&(!ea||!!d(ei))&&(H&&!d(x)?x:h?!d(es)&&p:d(es)||p),eh=d(er.isValidating)?ef:er.isValidating,em=d(er.isLoading)?ef:er.isLoading,ex=(0,r.useCallback)(async e=>{let t,r,a=F.current;if(!L||!a||D.current||M.current.isPaused())return!1;let s=!0,i=e||{},u=!T[L]||!i.dedupe,f=()=>N?!D.current&&L===$.current&&V.current:L===$.current,h={isValidating:!1,isLoading:!1},m=()=>{z(h)},x=()=>{let e=T[L];e&&e[1]===r&&delete T[L]},p={isValidating:!0};d(W().data)&&(p.isLoading=!0);try{if(u&&(z(p),n.loadingTimeout&&d(W().data)&&setTimeout(()=>{s&&f()&&M.current.onLoadingSlow(L,n)},n.loadingTimeout),T[L]=[a(C),P()]),[t,r]=T[L],t=await t,u&&setTimeout(x,n.dedupingInterval),!T[L]||T[L][1]!==r)return u&&f()&&M.current.onDiscarded(L),!1;h.error=l;let e=R[L];if(!d(e)&&(r<=e[0]||r<=e[1]||0===e[1]))return m(),u&&f()&&M.current.onDiscarded(L),!1;let i=W().data;h.data=o(i,t)?i:t,u&&f()&&M.current.onSuccess(t,L,n)}catch(r){x();let e=M.current,{shouldRetryOnError:t}=e;!e.isPaused()&&(h.error=r,u&&f()&&(e.onError(r,L,e),(!0===t||c(t)&&t(r))&&(!M.current.revalidateOnFocus||!M.current.revalidateOnReconnect||U())&&e.onErrorRetry(r,L,e,e=>{let t=j[L];t&&t[0]&&t[0](J.ERROR_REVALIDATE_EVENT,e)},{retryCount:(i.retryCount||0)+1,dedupe:!0})))}return s=!1,m(),!0},[L,i]),ep=(0,r.useCallback)((...e)=>I(i,$.current,...e),[]);if(O(()=>{F.current=t,M.current=n,d(en)||(el.current=en)}),O(()=>{var e;let t;if(!L)return;let r=ex.bind(l,G),a=0;M.current.revalidateOnFocus&&(a=Date.now()+M.current.focusThrottleInterval);let n=(e=(e,t={})=>{if(e==J.FOCUS_EVENT){let e=Date.now();M.current.revalidateOnFocus&&e>a&&U()&&(a=e+M.current.focusThrottleInterval,r())}else if(e==J.RECONNECT_EVENT)M.current.revalidateOnReconnect&&U()&&r();else if(e==J.MUTATE_EVENT)return ex();else if(e==J.ERROR_REVALIDATE_EVENT)return ex(t)},(t=j[L]||(j[L]=[])).push(e),()=>{let r=t.indexOf(e);r>=0&&(t[r]=t[t.length-1],t.pop())});return D.current=!1,$.current=L,V.current=!0,z({_k:C}),ef&&!T[L]&&(d(es)||E?r():S(r)),()=>{D.current=!0,n()}},[L]),O(()=>{let e;function t(){let t=c(b)?b(W().data):b;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!W().error&&(g||M.current.isVisible())&&(w||M.current.isOnline())?ex(G).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[b,g,w,L]),(0,r.useDebugValue)(eo),h){if(!N&&E&&ed)throw Error("Fallback data is required when using Suspense in SSR.");ed&&(F.current=t,M.current=n,D.current=!1);let e=_[L];if(Q(!d(e)&&ed?ep(e):X),!d(ei)&&ed)throw ei;let r=ed?ex(G):X;!d(eo)&&ed&&(r.status="fulfilled",r.value=!0),Q(r)}return{mutate:ep,get data(){return K.data=!0,eo},get error(){return K.error=!0,ei},get isValidating(){return K.isValidating=!0,eh},get isLoading(){return K.isLoading=!0,em}}},function(...e){let a,n=(a=(0,r.useContext)(q),(0,r.useMemo)(()=>u(W,a),[a])),[s,i,l]=c(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],o=z(n,l),d=t,{use:f}=o,h=(f||[]).concat(Y);for(let e=h.length;e--;)d=h[e](d);return d(s,i||o.fetcher||null,o)});e.s(["default",()=>et],83599)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},44625,e=>{"use strict";var t=e.i(43476),r=e.i(18566),a=e.i(83599),n=e.i(9165),s=e.i(71689),i=e.i(75254);let l=(0,i.default)("package-check",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),o=(0,i.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var d=e.i(71645);function c(){let{id:e}=(0,r.useParams)(),i=(0,r.useRouter)(),{data:c,error:u,isLoading:f}=(0,a.default)(`/api/orders/${e}`,n.api),{data:h,mutate:m}=(0,a.default)(`/api/testimonials/my?orderId=${e}`,n.api),[x,p]=(0,d.useState)(!1),[b,g]=(0,d.useState)(0),[v,w]=(0,d.useState)(""),[y,k]=(0,d.useState)(""),j=h?.testimonial||null,N=e=>{if("number"!=typeof e||Number.isNaN(e))return"රු0.00";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"LKR"}).format(e)}catch{return`රු${Number(e||0).toFixed(2)}`}},E=e=>Number(e.price??e.priceAtOrder??e.partId?.price??0),S=(c?.order.items??[]).reduce((e,t)=>e+E(t)*Number(t.qty??0),0),O=c?.order.totals?.subtotal??S,R=c?.order.totals?.tax??0,T=c?.order.totals?.grand??O+R;if(u)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center text-rose-500 dark:text-rose-400",children:"Failed to load order."});if(f||!c)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center text-slate-500 dark:text-slate-400",children:"Loading order details..."});let _=c.order;async function L(t){if(t.preventDefault(),b<1||b>5)return alert("Please choose a rating 1–5");p(!0);try{await (0,n.api)("/api/testimonials",{method:"POST",body:JSON.stringify({orderId:e,rating:b,title:v,body:y})}),await m(),alert("Thank you for your feedback!")}catch(e){alert("Failed to save rating: "+(e?.message||"Unknown error"))}finally{p(!1)}}return j&&0===b&&!x&&setTimeout(()=>{g(j.rating),w(j.title||""),k(j.body||"")},0),(0,t.jsxs)("div",{className:"min-h-screen pt-28 p-6 bg-gradient-to-br from-slate-50 via-white to-slate-100   dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:[(0,t.jsx)("div",{className:"pointer-events-none fixed inset-0   bg-[radial-gradient(circle_at_50%_20%,rgba(120,119,198,0.10),transparent_50%)]   dark:bg-[radial-gradient(circle_at_50%_20%,rgba(120,119,198,0.05),transparent_50%)]"}),(0,t.jsxs)("div",{className:"relative mx-auto max-w-4xl   bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl   border border-slate-200/60 dark:border-slate-700/60   rounded-2xl shadow-2xl p-8",children:[(0,t.jsxs)("button",{onClick:()=>i.push("/orders"),className:"inline-flex items-center text-sm text-blue-600 dark:text-blue-400 mb-6 hover:underline",children:[(0,t.jsx)(s.ArrowLeft,{className:"w-4 h-4 mr-1"}),"Back to My Orders"]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow",children:(0,t.jsx)(l,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:["Order #",_._id.slice(-6).toUpperCase()]}),(0,t.jsxs)("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:["Status:"," ",(0,t.jsx)("span",{className:"font-semibold text-green-600 dark:text-green-400",children:_.status||"unknown"})]})]})]}),(0,t.jsx)("div",{className:"space-y-4",children:_.items.map((e,r)=>{let a=E(e),n=Number(e.qty??0);return(0,t.jsx)("div",{className:"rounded-xl border border-slate-200 dark:border-slate-700   bg-slate-50/70 dark:bg-slate-800/60 p-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold text-slate-900 dark:text-white",children:e.name??e.partId?.name??"Part"}),(0,t.jsxs)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Qty: ",n,e.locationId&&(0,t.jsxs)(t.Fragment,{children:[" • Location: ",e.locationId]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Price"}),(0,t.jsx)("div",{className:"text-base font-semibold text-slate-900 dark:text-white",children:N(a*n)}),(0,t.jsxs)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["(",N(a)," each)"]})]})]})},r)})}),(0,t.jsxs)("div",{className:"mt-8 border-t border-slate-200 dark:border-slate-700 pt-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm text-slate-600 dark:text-slate-400",children:[(0,t.jsx)("span",{children:"Subtotal"}),(0,t.jsx)("span",{className:"text-slate-900 dark:text-white",children:N(O)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm text-slate-600 dark:text-slate-400",children:[(0,t.jsx)("span",{children:"Tax"}),(0,t.jsx)("span",{className:"text-slate-900 dark:text-white",children:N(R)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-base font-bold text-slate-900 dark:text-white mt-2",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsx)("span",{children:N(T)})]})]}),(0,t.jsxs)("div",{className:"mt-6 text-sm text-slate-600 dark:text-slate-400",children:["Payment: ",(0,t.jsx)("span",{className:"text-slate-900 dark:text-white",children:_.payment?.provider??"—"})," • ",(0,t.jsx)("span",{className:"capitalize",children:_.payment?.status??"—"}),(0,t.jsx)("br",{}),"Placed on:"," ",(0,t.jsx)("span",{className:"text-slate-900 dark:text-white",children:_.createdAt?new Date(_.createdAt).toLocaleString():"Unknown date"})]}),(0,t.jsxs)("div",{className:"mt-8 border-t border-slate-200 dark:border-slate-700 pt-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-3",children:"Rate this order"}),j&&(0,t.jsxs)("div",{className:"mb-4 rounded-xl border border-slate-200 dark:border-slate-700   bg-slate-50/80 dark:bg-slate-800/60 p-3",children:[(0,t.jsxs)("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Your current rating:"})," ",j.rating," / 5"]}),j.title&&(0,t.jsxs)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Title: ",j.title]}),j.body&&(0,t.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:j.body})]}),(0,t.jsxs)("form",{onSubmit:L,className:"space-y-3",children:[(0,t.jsx)(function({value:e,onChange:r}){return(0,t.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(a=>(0,t.jsx)("button",{type:"button",onClick:()=>r(a),className:"p-1","aria-label":`rate ${a}`,title:`${a} star${a>1?"s":""}`,children:(0,t.jsx)(o,{className:`w-6 h-6 transition-colors
                ${a<=e?"fill-yellow-400 stroke-yellow-400":"stroke-slate-300 dark:stroke-slate-600"}`})},a))})},{value:b,onChange:g}),(0,t.jsx)("input",{className:"w-full border border-slate-200 dark:border-slate-700   bg-white dark:bg-slate-900 text-slate-900 dark:text-white   rounded-xl px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500   focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Short title (optional)",value:v,onChange:e=>w(e.target.value),maxLength:120}),(0,t.jsx)("textarea",{className:"w-full border border-slate-200 dark:border-slate-700   bg-white dark:bg-slate-900 text-slate-900 dark:text-white   rounded-xl px-3 py-2 min-h-[80px] placeholder-slate-400 dark:placeholder-slate-500   focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Share a few details (optional)…",value:y,onChange:e=>k(e.target.value),maxLength:2e3}),(0,t.jsx)("button",{disabled:x||b<1,className:"inline-flex items-center justify-center rounded-xl   bg-gradient-to-r from-blue-600 to-purple-600   hover:from-blue-700 hover:to-purple-700   text-white px-4 py-2 shadow-lg hover:shadow-xl   disabled:from-slate-400 disabled:to-slate-500 disabled:cursor-not-allowed   transition",children:x?"Saving…":"Submit rating"})]})]})]})]})}e.s(["default",()=>c],44625)}]);
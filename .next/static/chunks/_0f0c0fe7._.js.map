{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theek/Documents/DA%20Project/smart-parts/web/src/app/checkout/success/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useSearchParams, useRouter } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function SuccessPage() {\r\n  const sp = useSearchParams();\r\n  const router = useRouter();\r\n  const sessionId = sp.get(\"session_id\");\r\n  const [done, setDone] = useState(false);\r\n  const [err, setErr] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    async function run() {\r\n      try {\r\n        if (!sessionId) return setErr(\"Missing session_id\");\r\n        // call your Express backend via NEXT_PUBLIC_API\r\n        const res = await fetch(`${process.env.NEXT_PUBLIC_API}/api/orders/finalize`, {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${localStorage.getItem(\"token\") || \"\"}` },\r\n          body: JSON.stringify({ session_id: sessionId }),\r\n        });\r\n        if (!res.ok) throw new Error(await res.text());\r\n        setDone(true);\r\n      } catch (e: any) {\r\n        setErr(e.message);\r\n      }\r\n    }\r\n    run();\r\n  }, [sessionId]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center p-6\">\r\n      <div className=\"max-w-md w-full rounded-2xl border border-emerald-300/60 dark:border-emerald-800/60 bg-emerald-50 dark:bg-emerald-900/20 p-8 text-center\">\r\n        <h1 className=\"text-2xl font-bold text-emerald-700 dark:text-emerald-300\">\r\n          Payment successful ðŸŽ‰\r\n        </h1>\r\n        <p className=\"mt-2 text-slate-700 dark:text-slate-300\">\r\n          {done ? \"Your order is finalized.\" : err ? `Finalize failed: ${err}` : \"Finalizing your order...\"}\r\n        </p>\r\n        <button\r\n          onClick={() => router.push(\"/orders\")}\r\n          className=\"mt-6 inline-flex rounded-xl bg-slate-900 text-white dark:bg-white dark:text-slate-900 px-4 py-2 hover:opacity-90 transition\"\r\n        >\r\n          View orders\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAgBmC;;AAfnC;AACA;;;AAFA;;;AAIe,SAAS;;IACtB,MAAM,KAAK,IAAA,wJAAe;IAC1B,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,YAAY,GAAG,GAAG,CAAC;IACzB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,yKAAQ,EAAgB;IAE9C,IAAA,0KAAS;iCAAC;YACR,eAAe;gBACb,IAAI;oBACF,IAAI,CAAC,WAAW,OAAO,OAAO;oBAC9B,gDAAgD;oBAChD,MAAM,MAAM,MAAM,MAAM,AAAC,GAA8B,kEAAA,yBAAuB;wBAC5E,QAAQ;wBACR,SAAS;4BAAE,gBAAgB;4BAAoB,eAAe,AAAC,UAA6C,OAApC,aAAa,OAAO,CAAC,YAAY;wBAAK;wBAC9G,MAAM,KAAK,SAAS,CAAC;4BAAE,YAAY;wBAAU;oBAC/C;oBACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,MAAM,IAAI,IAAI;oBAC3C,QAAQ;gBACV,EAAE,OAAO,GAAQ;oBACf,OAAO,EAAE,OAAO;gBAClB;YACF;YACA;QACF;gCAAG;QAAC;KAAU;IAEd,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAA4D;;;;;;8BAG1E,6LAAC;oBAAE,WAAU;8BACV,OAAO,6BAA6B,MAAM,AAAC,oBAAuB,OAAJ,OAAQ;;;;;;8BAEzE,6LAAC;oBACC,SAAS,IAAM,OAAO,IAAI,CAAC;oBAC3B,WAAU;8BACX;;;;;;;;;;;;;;;;;AAMT;GA5CwB;;QACX,wJAAe;QACX,kJAAS;;;KAFF","debugId":null}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theek/Documents/DA%20Project/smart-parts/web/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}
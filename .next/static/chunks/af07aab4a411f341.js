(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:o,iconNode:d,...c},u)=>(0,t.createElement)("svg",{ref:u,...l,width:r,height:r,stroke:e,strokeWidth:s?24*Number(n)/Number(r):n,className:a("lucide",i),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"},...c},[...d.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(o)?o:[o]])),s=(e,l)=>{let s=(0,t.forwardRef)(({className:s,...i},o)=>(0,t.createElement)(n,{ref:o,iconNode:l,className:a(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...i}));return s.displayName=r(e),s};e.s(["default",()=>s],75254)},18566,(e,t,r)=>{t.exports=e.r(76562)},55838,(e,t,r)=>{"use strict";var a=e.r(71645),l="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=a.useState,s=a.useEffect,i=a.useLayoutEffect,o=a.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!l(e,r)}catch(e){return!0}}var c="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=n({inst:{value:r,getSnapshot:t}}),l=a[0].inst,c=a[1];return i(function(){l.value=r,l.getSnapshot=t,d(l)&&c({inst:l})},[e,r,t]),s(function(){return d(l)&&c({inst:l}),e(function(){d(l)&&c({inst:l})})},[e]),o(r),r};r.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:c},2239,(e,t,r)=>{"use strict";t.exports=e.r(55838)},83599,17805,e=>{"use strict";let t;var r=e.i(71645),a=e.i(2239);e.s(["ERROR_REVALIDATE_EVENT",()=>3,"FOCUS_EVENT",()=>0,"MUTATE_EVENT",()=>2,"RECONNECT_EVENT",()=>1],11671);var l=Object.prototype.hasOwnProperty;let n=new WeakMap,s=()=>{},i=s(),o=Object,d=e=>e===i,c=e=>"function"==typeof e,u=(e,t)=>({...e,...t}),m=e=>c(e.then),h={},f={},x="undefined",b=typeof window!=x,g=typeof document!=x,p=b&&"Deno"in window,k=(e,t)=>{let r=n.get(e);return[()=>!d(t)&&e.get(t)||h,a=>{if(!d(t)){let l=e.get(t);t in f||(f[t]=l),r[5](t,u(l,a),l||h)}},r[6],()=>!d(t)&&t in f?f[t]:!d(t)&&e.get(t)||h]},v=!0,[y,w]=b&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[s,s],j={initFocus:e=>(g&&document.addEventListener("visibilitychange",e),y("focus",e),()=>{g&&document.removeEventListener("visibilitychange",e),w("focus",e)}),initReconnect:e=>{let t=()=>{v=!0,e()},r=()=>{v=!1};return y("online",t),y("offline",r),()=>{w("online",t),w("offline",r)}}},N=!r.default.useId,E=!b||p,O=e=>b&&typeof window.requestAnimationFrame!=x?window.requestAnimationFrame(e):setTimeout(e,1),S=E?r.useEffect:r.useLayoutEffect,C="u">typeof navigator&&navigator.connection,R=!E&&C&&(["slow-2g","2g"].includes(C.effectiveType)||C.saveData),_=new WeakMap,T=(e,t)=>e===`[object ${t}]`,L=0,M=e=>{let t,r,a=typeof e,l=o.prototype.toString.call(e),n=T(l,"Date"),s=T(l,"RegExp"),i=T(l,"Object");if(o(e)!==e||n||s)t=n?e.toJSON():"symbol"==a?e.toString():"string"==a?JSON.stringify(e):""+e;else{if(t=_.get(e))return t;if(t=++L+"~",_.set(e,t),Array.isArray(e)){for(r=0,t="@";r<e.length;r++)t+=M(e[r])+",";_.set(e,t)}if(i){t="#";let a=o.keys(e).sort();for(;!d(r=a.pop());)d(e[r])||(t+=r+":"+M(e[r])+",");_.set(e,t)}}return t},A=e=>{if(c(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?M(e):"",t]},V=0,I=()=>++V;async function P(...e){let[t,r,a,l]=e,s=u({populateCache:!0,throwOnError:!0},"boolean"==typeof l?{revalidate:l}:l||{}),o=s.populateCache,h=s.rollbackOnError,f=s.optimisticData,x=s.throwOnError;if(c(r)){let e=[];for(let a of t.keys())!/^\$(inf|sub)\$/.test(a)&&r(t.get(a)._k)&&e.push(a);return Promise.all(e.map(b))}return b(r);async function b(r){let l,[u]=A(r);if(!u)return;let[b,g]=k(t,u),[p,v,y,w]=n.get(t),j=()=>{let e=p[u];return(c(s.revalidate)?s.revalidate(b().data,r):!1!==s.revalidate)&&(delete y[u],delete w[u],e&&e[0])?e[0](2).then(()=>b().data):b().data};if(e.length<3)return j();let N=a,E=!1,O=I();v[u]=[O,0];let S=!d(f),C=b(),R=C.data,_=C._c,T=d(_)?R:_;if(S&&g({data:f=c(f)?f(T,R):f,_c:T}),c(N))try{N=N(T)}catch(e){l=e,E=!0}if(N&&m(N)){let e;if(N=await N.catch(e=>{l=e,E=!0}),O!==v[u][0]){if(E)throw l;return N}E&&S&&(e=l,"function"==typeof h?h(e):!1!==h)&&(o=!0,g({data:T,_c:i}))}if(o&&!E&&(c(o)?g({data:o(N,T),error:i,_c:i}):g({data:N,error:i,_c:i})),v[u][1]=I(),Promise.resolve(j()).then(()=>{g({_c:i})}),E){if(x)throw l;return}return N}}let D=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},F=(e,t)=>{if(!n.has(e)){let r=u(j,t),a=Object.create(null),l=P.bind(i,e),o=s,d=Object.create(null),c=(e,t)=>{let r=d[e]||[];return d[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},m=(t,r,a)=>{e.set(t,r);let l=d[t];if(l)for(let e of l)e(r,a)},h=()=>{if(!n.has(e)&&(n.set(e,[a,Object.create(null),Object.create(null),Object.create(null),l,m,c]),!E)){let t=r.initFocus(setTimeout.bind(i,D.bind(i,a,0))),l=r.initReconnect(setTimeout.bind(i,D.bind(i,a,1)));o=()=>{t&&t(),l&&l(),n.delete(e)}}};return h(),[e,l,h,o]}return[e,n.get(e)[4]]},[$,q]=F(new Map),W=u({onLoadingSlow:s,onSuccess:s,onError:s,onErrorRetry:(e,t,r,a,l)=>{let n=r.errorRetryCount,s=l.retryCount,i=~~((Math.random()+.5)*(1<<(s<8?s:8)))*r.errorRetryInterval;(d(n)||!(s>n))&&setTimeout(a,i,l)},onDiscarded:s,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:R?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:R?5e3:3e3,compare:function e(t,r){var a,n;if(t===r)return!0;if(t&&r&&(a=t.constructor)===r.constructor){if(a===Date)return t.getTime()===r.getTime();if(a===RegExp)return t.toString()===r.toString();if(a===Array){if((n=t.length)===r.length)for(;n--&&e(t[n],r[n]););return -1===n}if(!a||"object"==typeof t){for(a in n=0,t)if(l.call(t,a)&&++n&&!l.call(r,a)||!(a in r)||!e(t[a],r[a]))return!1;return Object.keys(r).length===n}}return t!=t&&r!=r},isPaused:()=>!1,cache:$,mutate:q,fallback:{}},{isOnline:()=>v,isVisible:()=>{let e=g&&document.visibilityState;return d(e)||"hidden"!==e}}),z=(e,t)=>{let r=u(e,t);if(t){let{use:a,fallback:l}=e,{use:n,fallback:s}=t;a&&n&&(r.use=a.concat(n)),l&&s&&(r.fallback=u(l,s))}return r},U=(0,r.createContext)({}),H=e=>{let{value:t}=e,a=(0,r.useContext)(U),l=c(t),n=(0,r.useMemo)(()=>l?t(a):t,[l,a,t]),s=(0,r.useMemo)(()=>l?n:z(a,n),[l,a,n]),o=n&&n.provider,d=(0,r.useRef)(i);o&&!d.current&&(d.current=F(o(s.cache||$),n));let m=d.current;return m&&(s.cache=m[0],s.mutate=m[1]),S(()=>{if(m)return m[2]&&m[2](),m[3]},[]),(0,r.createElement)(U.Provider,u(e,{value:s}))};e.s(["A",()=>s,"B",()=>m,"I",()=>E,"O",()=>o,"S",()=>U,"U",()=>i,"a",()=>c,"b",()=>n,"c",()=>$,"d",()=>W,"e",()=>d,"f",()=>z,"g",()=>H,"i",()=>b,"j",()=>q,"m",()=>u,"n",()=>P,"o",()=>I,"r",()=>N,"s",()=>A,"t",()=>O,"u",()=>S,"z",()=>k],17805);var B=e.i(11671);let K=b&&window.__SWR_DEVTOOLS_USE__,J=(K?window.__SWR_DEVTOOLS_USE__:[]).concat(e=>(t,r,a)=>{let l=r&&((...e)=>{let[a]=A(t),[,,,l]=n.get($);if(a.startsWith("$inf$"))return r(...e);let s=l[a];return d(s)?r(...e):(delete l[a],s)});return e(t,l,a)});K&&(window.__SWR_DEVTOOLS_REACT__=r.default);let Z=()=>{},G=Z(),Q=(new WeakMap,r.default.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}})),Y={dedupe:!0},X=Promise.resolve(i),ee=()=>s;o.defineProperty(H,"defaultValue",{value:W});let et=(t=(e,t,l)=>{let{cache:s,compare:o,suspense:h,fallbackData:f,revalidateOnMount:x,revalidateIfStale:b,refreshInterval:g,refreshWhenHidden:p,refreshWhenOffline:v,keepPreviousData:y,strictServerPrefetchWarning:w}=l,[j,C,R,_]=n.get(s),[T,L]=A(e),M=(0,r.useRef)(!1),V=(0,r.useRef)(!1),D=(0,r.useRef)(T),F=(0,r.useRef)(t),$=(0,r.useRef)(l),q=()=>$.current.isVisible()&&$.current.isOnline(),[W,z,U,H]=k(s,T),K=(0,r.useRef)({}).current,J=d(f)?d(l.fallback)?i:l.fallback[T]:f,Z=(e,t)=>{for(let r in K)if("data"===r){if(!o(e[r],t[r])&&(!d(e[r])||!o(eo,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},G=!M.current,et=(0,r.useMemo)(()=>{let e=W(),r=H(),a=e=>{let r=u(e);return(delete r._k,(()=>{if(!T||!t||$.current.isPaused())return!1;if(G&&!d(x))return x;let e=d(J)?r.data:J;return d(e)||b})())?{isValidating:!0,isLoading:!0,...r}:r},l=a(e),n=e===r?l:a(r),s=l;return[()=>{let e=a(W());return Z(e,s)?(s.data=e.data,s.isLoading=e.isLoading,s.isValidating=e.isValidating,s.error=e.error,s):(s=e,e)},()=>n]},[s,T]),er=(0,a.useSyncExternalStore)((0,r.useCallback)(e=>U(T,(t,r)=>{Z(r,t)||e()}),[s,T]),et[0],et[1]),ea=j[T]&&j[T].length>0,el=er.data,en=d(el)?J&&m(J)?Q(J):J:el,es=er.error,ei=(0,r.useRef)(en),eo=y?d(el)?d(ei.current)?en:ei.current:el:en,ed=T&&d(en),ec=(0,r.useRef)(null);E||(0,a.useSyncExternalStore)(ee,()=>(ec.current=!1,ec),()=>(ec.current=!0,ec));let eu=ec.current;w&&eu&&!h&&ed&&console.warn(`Missing pre-initiated data for serialized key "${T}" during server-side rendering. Data fetching should be initiated on the server and provided to SWR via fallback data. You can set "strictServerPrefetchWarning: false" to disable this warning.`);let em=!(!T||!t||$.current.isPaused())&&(!ea||!!d(es))&&(G&&!d(x)?x:h?!d(en)&&b:d(en)||b),eh=d(er.isValidating)?em:er.isValidating,ef=d(er.isLoading)?em:er.isLoading,ex=(0,r.useCallback)(async e=>{let t,r,a=F.current;if(!T||!a||V.current||$.current.isPaused())return!1;let n=!0,s=e||{},u=!R[T]||!s.dedupe,m=()=>N?!V.current&&T===D.current&&M.current:T===D.current,h={isValidating:!1,isLoading:!1},f=()=>{z(h)},x=()=>{let e=R[T];e&&e[1]===r&&delete R[T]},b={isValidating:!0};d(W().data)&&(b.isLoading=!0);try{if(u&&(z(b),l.loadingTimeout&&d(W().data)&&setTimeout(()=>{n&&m()&&$.current.onLoadingSlow(T,l)},l.loadingTimeout),R[T]=[a(L),I()]),[t,r]=R[T],t=await t,u&&setTimeout(x,l.dedupingInterval),!R[T]||R[T][1]!==r)return u&&m()&&$.current.onDiscarded(T),!1;h.error=i;let e=C[T];if(!d(e)&&(r<=e[0]||r<=e[1]||0===e[1]))return f(),u&&m()&&$.current.onDiscarded(T),!1;let s=W().data;h.data=o(s,t)?s:t,u&&m()&&$.current.onSuccess(t,T,l)}catch(r){x();let e=$.current,{shouldRetryOnError:t}=e;!e.isPaused()&&(h.error=r,u&&m()&&(e.onError(r,T,e),(!0===t||c(t)&&t(r))&&(!$.current.revalidateOnFocus||!$.current.revalidateOnReconnect||q())&&e.onErrorRetry(r,T,e,e=>{let t=j[T];t&&t[0]&&t[0](B.ERROR_REVALIDATE_EVENT,e)},{retryCount:(s.retryCount||0)+1,dedupe:!0})))}return n=!1,f(),!0},[T,s]),eb=(0,r.useCallback)((...e)=>P(s,D.current,...e),[]);if(S(()=>{F.current=t,$.current=l,d(el)||(ei.current=el)}),S(()=>{var e;let t;if(!T)return;let r=ex.bind(i,Y),a=0;$.current.revalidateOnFocus&&(a=Date.now()+$.current.focusThrottleInterval);let l=(e=(e,t={})=>{if(e==B.FOCUS_EVENT){let e=Date.now();$.current.revalidateOnFocus&&e>a&&q()&&(a=e+$.current.focusThrottleInterval,r())}else if(e==B.RECONNECT_EVENT)$.current.revalidateOnReconnect&&q()&&r();else if(e==B.MUTATE_EVENT)return ex();else if(e==B.ERROR_REVALIDATE_EVENT)return ex(t)},(t=j[T]||(j[T]=[])).push(e),()=>{let r=t.indexOf(e);r>=0&&(t[r]=t[t.length-1],t.pop())});return V.current=!1,D.current=T,M.current=!0,z({_k:L}),em&&!R[T]&&(d(en)||E?r():O(r)),()=>{V.current=!0,l()}},[T]),S(()=>{let e;function t(){let t=c(g)?g(W().data):g;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!W().error&&(p||$.current.isVisible())&&(v||$.current.isOnline())?ex(Y).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[g,p,v,T]),(0,r.useDebugValue)(eo),h){if(!N&&E&&ed)throw Error("Fallback data is required when using Suspense in SSR.");ed&&(F.current=t,$.current=l,V.current=!1);let e=_[T];if(Q(!d(e)&&ed?eb(e):X),!d(es)&&ed)throw es;let r=ed?ex(Y):X;!d(eo)&&ed&&(r.status="fulfilled",r.value=!0),Q(r)}return{mutate:eb,get data(){return K.data=!0,eo},get error(){return K.error=!0,es},get isValidating(){return K.isValidating=!0,eh},get isLoading(){return K.isLoading=!0,ef}}},function(...e){let a,l=(a=(0,r.useContext)(U),(0,r.useMemo)(()=>u(W,a),[a])),[n,s,i]=c(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],o=z(l,i),d=t,{use:m}=o,h=(m||[]).concat(J);for(let e=h.length;e--;)d=h[e](d);return d(n,s||o.fetcher||null,o)});e.s(["default",()=>et],83599)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},88844,e=>{"use strict";let t=(0,e.i(75254).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>t],88844)},1928,e=>{"use strict";let t=(0,e.i(75254).default)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);e.s(["ShoppingCart",()=>t],1928)},99023,e=>{"use strict";let t=(0,e.i(75254).default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);e.s(["Minus",()=>t],99023)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},35109,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),l=e.i(83599),n=e.i(9165),s=e.i(32341),i=e.i(88844),o=e.i(75254);let d=(0,o.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var c=e.i(1928),u=e.i(95468),m=e.i(63209);let h=(0,o.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),f=(0,o.default)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var x=e.i(99023),b=e.i(7233),g=e.i(74080);function p({children:e}){let[t,a]=(0,r.useState)(!1);return((0,r.useEffect)(()=>a(!0),[]),t)?(0,g.createPortal)(e,document.body):null}function k(){let{id:e}=(0,a.useParams)(),{token:o}=(0,s.useAuth)(),g=(0,a.useRouter)(),{data:k,error:v,isLoading:y}=(0,l.default)(`/api/parts/${e}`,n.api),[w,j]=(0,r.useState)(1),[N,E]=(0,r.useState)(null),[O,S]=(0,r.useState)(!1),[C,R]=(0,r.useState)(!1),_=k?.part,T=k?.stock??[],L=(0,r.useMemo)(()=>N??T?.[0]?.locationId??null,[N,T]);async function M(){if(!o)return void g.push("/login");if(!L)return void alert("Please select a location");S(!0);try{await (0,n.api)("/api/cart/items",{method:"POST",body:JSON.stringify({partId:e,qty:w,selectedLocationId:L})}),R(!0)}catch(e){console.error(e)}finally{S(!1)}}return v?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800 flex items-center justify-center p-20",children:(0,t.jsxs)("div",{className:"max-w-lg w-full bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border border-slate-200/50 dark:border-slate-700/50 rounded-2xl shadow-2xl p-8",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(m.AlertCircle,{className:"w-6 h-6 text-red-500 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:"Error loading part"}),(0,t.jsx)("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Something went wrong while fetching this part. Try refreshing the page."})]})]}),(0,t.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-6 inline-flex items-center justify-center px-4 py-2 rounded-xl bg-slate-900 text-white dark:bg-white dark:text-slate-900 hover:opacity-90 transition",children:"Reload"})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800 p-4 md:p-8",children:[(0,t.jsx)("div",{className:"pointer-events-none fixed inset-0 bg-[radial-gradient(circle_at_50%_20%,rgba(120,119,198,0.10),transparent_50%)] dark:bg-[radial-gradient(circle_at_50%_20%,rgba(120,119,198,0.05),transparent_50%)]"}),(0,t.jsx)("div",{className:"relative mx-auto max-w-6xl pt-22",children:(0,t.jsxs)("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border border-slate-200/50 dark:border-slate-700/50 rounded-2xl shadow-2xl p-6 md:p-10",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow",children:(0,t.jsx)(i.Package,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white",children:y?(0,t.jsx)("span",{className:"inline-block h-7 w-48 rounded bg-slate-200 dark:bg-slate-700 animate-pulse"}):(0,t.jsxs)(t.Fragment,{children:[_?.name," ",(0,t.jsxs)("span",{className:"align-middle inline-flex items-center gap-1 text-sm font-medium text-slate-600 dark:text-slate-400",children:[(0,t.jsx)(h,{className:"w-4 h-4"})," ",_?.sku]})]})}),(0,t.jsx)("div",{className:"mt-1 flex flex-wrap items-center gap-2",children:y?(0,t.jsx)("span",{className:"inline-block h-5 w-24 rounded bg-slate-200 dark:bg-slate-700 animate-pulse"}):(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300 border border-slate-200 dark:border-slate-700",children:[(0,t.jsx)(f,{className:"w-3.5 h-3.5"}),_?.brand]})})]})]}),(0,t.jsx)("div",{className:"mt-2 md:mt-0",children:y?(0,t.jsx)("span",{className:"inline-block h-8 w-28 rounded bg-slate-200 dark:bg-slate-700 animate-pulse"}):(0,t.jsx)("span",{className:"inline-flex items-center px-3 py-2 rounded-xl text-lg font-bold bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300 border border-emerald-200/60 dark:border-emerald-700/60",children:function(e){if("number"!=typeof e)return"-";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"LKR",maximumFractionDigits:2}).format(e)}catch{return`$${e.toFixed(2)}`}}(_?.price)})})]}),(0,t.jsxs)("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("section",{className:"lg:col-span-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Stock by Location"}),y?(0,t.jsx)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((e,r)=>(0,t.jsx)("div",{className:"h-24 rounded-xl bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 animate-pulse"},r))}):T?.length?(0,t.jsx)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(e=>{let r=L===e.locationId,a=e.qtyOnHand<=0;return(0,t.jsxs)("button",{type:"button",onClick:()=>E(e.locationId),className:["text-left rounded-xl p-4 border transition group",r?"border-blue-500 ring-2 ring-blue-200 dark:ring-blue-900/40 bg-blue-50/50 dark:bg-blue-950/20":"border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/60 hover:bg-slate-100 dark:hover:bg-slate-800"].join(" "),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-800 dark:text-slate-100",children:[(0,t.jsx)(d,{className:"w-4 h-4 opacity-70"}),(0,t.jsx)("span",{className:"font-semibold",children:e.locationId})]}),r?(0,t.jsx)(u.CheckCircle2,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}):null]}),(0,t.jsx)("p",{className:["mt-2 text-sm",a?"text-red-600 dark:text-red-400":"text-slate-600 dark:text-slate-400"].join(" "),children:a?"Out of stock":`On hand: ${e.qtyOnHand}`})]},e._id)})}):(0,t.jsx)("div",{className:"rounded-xl bg-amber-50 dark:bg-amber-900/20 border border-amber-200/60 dark:border-amber-700/60 p-4",children:(0,t.jsx)("p",{className:"text-amber-800 dark:text-amber-200 text-sm",children:"No stock available at any location."})})]}),(0,t.jsx)("aside",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 dark:border-slate-700 bg-white/70 dark:bg-slate-900/70 backdrop-blur p-5 sticky top-6",children:[(0,t.jsx)("h4",{className:"text-base font-semibold text-slate-900 dark:text-white",children:"Purchase"}),(0,t.jsx)("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mt-4 mb-1",children:"Location"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("select",{value:L??"",onChange:e=>E(e.target.value||null),className:"w-full appearance-none rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white px-3 py-2 pr-10  focus:outline-none focus:ring-2 focus:ring-blue-500",children:T?.length?T.map(e=>(0,t.jsxs)("option",{value:e.locationId,children:[e.locationId," ",e.qtyOnHand>0?`(on hand ${e.qtyOnHand})`:"(out of stock)"]},e._id)):(0,t.jsx)("option",{value:"",children:"(none)"})}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:(0,t.jsx)("svg",{className:"h-4 w-4 text-slate-500 dark:text-slate-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})})]}),(0,t.jsx)("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mt-4 mb-1",children:"Quantity"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>j(e=>Math.max(1,e-1)),className:"h-10 w-10 inline-flex items-center justify-center rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 hover:bg-slate-100 dark:hover:bg-slate-700 transition","aria-label":"Decrease",children:(0,t.jsx)(x.Minus,{className:"w-4 h-4 text-blue-50"})}),(0,t.jsx)("input",{type:"number",inputMode:"numeric",min:1,value:w,onChange:e=>j(Math.max(1,Number(e.target.value)||1)),className:"w-20 text-center rounded-xl border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none"}),(0,t.jsx)("button",{type:"button",onClick:()=>j(e=>e+1),className:"h-10 w-10 inline-flex items-center justify-center rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 hover:bg-slate-100 dark:hover:bg-slate-700 transition","aria-label":"Increase",children:(0,t.jsx)(b.Plus,{className:"w-4 h-4 text-blue-50"})})]}),(0,t.jsx)("button",{onClick:M,disabled:O||y||!L||(T.find(e=>e.locationId===L)?.qtyOnHand??0)<=0,className:"mt-5 w-full inline-flex items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold py-3 px-4 shadow-lg hover:shadow-xl transition disabled:from-slate-400 disabled:to-slate-500 disabled:cursor-not-allowed hover:scale-[1.01] active:scale-95 focus:outline-none focus:ring-2 focus:ring-blue-500",children:O?(0,t.jsx)("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.ShoppingCart,{className:"w-4 h-4"}),"Add to cart"]})}),C&&(0,t.jsx)(p,{children:(0,t.jsxs)("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4",role:"dialog","aria-modal":"true",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>R(!1),"aria-hidden":"true"}),(0,t.jsxs)("div",{className:"relative w-full max-w-sm rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 shadow-2xl p-6 z-[1000]",children:[(0,t.jsx)("button",{onClick:()=>R(!1),className:"absolute right-3 top-3 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300","aria-label":"Close",children:"×"}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"mt-0.5 w-10 h-10 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400",viewBox:"0 0 24 24",fill:"none",children:(0,t.jsx)("path",{d:"M20 7L9 18l-5-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Added to cart"}),(0,t.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:[(0,t.jsx)("span",{className:"font-medium",children:_?.name})," × ",w,L?` • ${L}`:""]})]})]}),(0,t.jsxs)("div",{className:"mt-5 flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>R(!1),className:"flex-1 inline-flex items-center justify-center rounded-xl border bg-green-500 border-slate-200 dark:border-slate-700 px-4 py-2 hover:bg-green-600 transition",children:"OK"}),(0,t.jsx)("button",{onClick:()=>g.push("/cart"),className:"flex-1 inline-flex items-center justify-center rounded-xl bg-slate-900 text-white dark:bg-white dark:text-slate-900 px-4 py-2 hover:opacity-90 transition",children:"Go to cart"})]})]})]})}),!o&&(0,t.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-3 text-center",children:["Tip:"," ",(0,t.jsx)("button",{type:"button",className:"text-blue-600 dark:text-blue-400 hover:underline",onClick:()=>g.push("/login"),children:"Log in"})," ","to add items to your cart."]})]})})]})]})})]})}e.s(["default",()=>k],35109)}]);
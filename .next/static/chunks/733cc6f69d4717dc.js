(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:l="",children:o,iconNode:c,...d},u)=>(0,t.createElement)("svg",{ref:u,...n,width:r,height:r,stroke:e,strokeWidth:i?24*Number(s)/Number(r):s,className:a("lucide",l),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(o)?o:[o]])),i=(e,n)=>{let i=(0,t.forwardRef)(({className:i,...l},o)=>(0,t.createElement)(s,{ref:o,iconNode:n,className:a(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...l}));return i.displayName=r(e),i};e.s(["default",()=>i],75254)},18566,(e,t,r)=>{t.exports=e.r(76562)},55838,(e,t,r)=>{"use strict";var a=e.r(71645),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=a.useState,i=a.useEffect,l=a.useLayoutEffect,o=a.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var d="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=s({inst:{value:r,getSnapshot:t}}),n=a[0].inst,d=a[1];return l(function(){n.value=r,n.getSnapshot=t,c(n)&&d({inst:n})},[e,r,t]),i(function(){return c(n)&&d({inst:n}),e(function(){c(n)&&d({inst:n})})},[e]),o(r),r};r.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:d},2239,(e,t,r)=>{"use strict";t.exports=e.r(55838)},83599,17805,e=>{"use strict";let t;var r=e.i(71645),a=e.i(2239);e.s(["ERROR_REVALIDATE_EVENT",()=>3,"FOCUS_EVENT",()=>0,"MUTATE_EVENT",()=>2,"RECONNECT_EVENT",()=>1],11671);var n=Object.prototype.hasOwnProperty;let s=new WeakMap,i=()=>{},l=i(),o=Object,c=e=>e===l,d=e=>"function"==typeof e,u=(e,t)=>({...e,...t}),f=e=>d(e.then),m={},h={},x="undefined",p=typeof window!=x,g=typeof document!=x,b=p&&"Deno"in window,w=(e,t)=>{let r=s.get(e);return[()=>!c(t)&&e.get(t)||m,a=>{if(!c(t)){let n=e.get(t);t in h||(h[t]=n),r[5](t,u(n,a),n||m)}},r[6],()=>!c(t)&&t in h?h[t]:!c(t)&&e.get(t)||m]},v=!0,[y,N]=p&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[i,i],j={initFocus:e=>(g&&document.addEventListener("visibilitychange",e),y("focus",e),()=>{g&&document.removeEventListener("visibilitychange",e),N("focus",e)}),initReconnect:e=>{let t=()=>{v=!0,e()},r=()=>{v=!1};return y("online",t),y("offline",r),()=>{N("online",t),N("offline",r)}}},E=!r.default.useId,S=!p||b,O=e=>p&&typeof window.requestAnimationFrame!=x?window.requestAnimationFrame(e):setTimeout(e,1),T=S?r.useEffect:r.useLayoutEffect,R="u">typeof navigator&&navigator.connection,k=!S&&R&&(["slow-2g","2g"].includes(R.effectiveType)||R.saveData),_=new WeakMap,C=(e,t)=>e===`[object ${t}]`,A=0,L=e=>{let t,r,a=typeof e,n=o.prototype.toString.call(e),s=C(n,"Date"),i=C(n,"RegExp"),l=C(n,"Object");if(o(e)!==e||s||i)t=s?e.toJSON():"symbol"==a?e.toString():"string"==a?JSON.stringify(e):""+e;else{if(t=_.get(e))return t;if(t=++A+"~",_.set(e,t),Array.isArray(e)){for(r=0,t="@";r<e.length;r++)t+=L(e[r])+",";_.set(e,t)}if(l){t="#";let a=o.keys(e).sort();for(;!c(r=a.pop());)c(e[r])||(t+=r+":"+L(e[r])+",");_.set(e,t)}}return t},V=e=>{if(d(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?L(e):"",t]},D=0,$=()=>++D;async function P(...e){let[t,r,a,n]=e,i=u({populateCache:!0,throwOnError:!0},"boolean"==typeof n?{revalidate:n}:n||{}),o=i.populateCache,m=i.rollbackOnError,h=i.optimisticData,x=i.throwOnError;if(d(r)){let e=[];for(let a of t.keys())!/^\$(inf|sub)\$/.test(a)&&r(t.get(a)._k)&&e.push(a);return Promise.all(e.map(p))}return p(r);async function p(r){let n,[u]=V(r);if(!u)return;let[p,g]=w(t,u),[b,v,y,N]=s.get(t),j=()=>{let e=b[u];return(d(i.revalidate)?i.revalidate(p().data,r):!1!==i.revalidate)&&(delete y[u],delete N[u],e&&e[0])?e[0](2).then(()=>p().data):p().data};if(e.length<3)return j();let E=a,S=!1,O=$();v[u]=[O,0];let T=!c(h),R=p(),k=R.data,_=R._c,C=c(_)?k:_;if(T&&g({data:h=d(h)?h(C,k):h,_c:C}),d(E))try{E=E(C)}catch(e){n=e,S=!0}if(E&&f(E)){let e;if(E=await E.catch(e=>{n=e,S=!0}),O!==v[u][0]){if(S)throw n;return E}S&&T&&(e=n,"function"==typeof m?m(e):!1!==m)&&(o=!0,g({data:C,_c:l}))}if(o&&!S&&(d(o)?g({data:o(E,C),error:l,_c:l}):g({data:E,error:l,_c:l})),v[u][1]=$(),Promise.resolve(j()).then(()=>{g({_c:l})}),S){if(x)throw n;return}return E}}let M=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},U=(e,t)=>{if(!s.has(e)){let r=u(j,t),a=Object.create(null),n=P.bind(l,e),o=i,c=Object.create(null),d=(e,t)=>{let r=c[e]||[];return c[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},f=(t,r,a)=>{e.set(t,r);let n=c[t];if(n)for(let e of n)e(r,a)},m=()=>{if(!s.has(e)&&(s.set(e,[a,Object.create(null),Object.create(null),Object.create(null),n,f,d]),!S)){let t=r.initFocus(setTimeout.bind(l,M.bind(l,a,0))),n=r.initReconnect(setTimeout.bind(l,M.bind(l,a,1)));o=()=>{t&&t(),n&&n(),s.delete(e)}}};return m(),[e,n,m,o]}return[e,s.get(e)[4]]},[F,I]=U(new Map),W=u({onLoadingSlow:i,onSuccess:i,onError:i,onErrorRetry:(e,t,r,a,n)=>{let s=r.errorRetryCount,i=n.retryCount,l=~~((Math.random()+.5)*(1<<(i<8?i:8)))*r.errorRetryInterval;(c(s)||!(i>s))&&setTimeout(a,l,n)},onDiscarded:i,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:k?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:k?5e3:3e3,compare:function e(t,r){var a,s;if(t===r)return!0;if(t&&r&&(a=t.constructor)===r.constructor){if(a===Date)return t.getTime()===r.getTime();if(a===RegExp)return t.toString()===r.toString();if(a===Array){if((s=t.length)===r.length)for(;s--&&e(t[s],r[s]););return -1===s}if(!a||"object"==typeof t){for(a in s=0,t)if(n.call(t,a)&&++s&&!n.call(r,a)||!(a in r)||!e(t[a],r[a]))return!1;return Object.keys(r).length===s}}return t!=t&&r!=r},isPaused:()=>!1,cache:F,mutate:I,fallback:{}},{isOnline:()=>v,isVisible:()=>{let e=g&&document.visibilityState;return c(e)||"hidden"!==e}}),B=(e,t)=>{let r=u(e,t);if(t){let{use:a,fallback:n}=e,{use:s,fallback:i}=t;a&&s&&(r.use=a.concat(s)),n&&i&&(r.fallback=u(n,i))}return r},q=(0,r.createContext)({}),z=e=>{let{value:t}=e,a=(0,r.useContext)(q),n=d(t),s=(0,r.useMemo)(()=>n?t(a):t,[n,a,t]),i=(0,r.useMemo)(()=>n?s:B(a,s),[n,a,s]),o=s&&s.provider,c=(0,r.useRef)(l);o&&!c.current&&(c.current=U(o(i.cache||F),s));let f=c.current;return f&&(i.cache=f[0],i.mutate=f[1]),T(()=>{if(f)return f[2]&&f[2](),f[3]},[]),(0,r.createElement)(q.Provider,u(e,{value:i}))};e.s(["A",()=>i,"B",()=>f,"I",()=>S,"O",()=>o,"S",()=>q,"U",()=>l,"a",()=>d,"b",()=>s,"c",()=>F,"d",()=>W,"e",()=>c,"f",()=>B,"g",()=>z,"i",()=>p,"j",()=>I,"m",()=>u,"n",()=>P,"o",()=>$,"r",()=>E,"s",()=>V,"t",()=>O,"u",()=>T,"z",()=>w],17805);var J=e.i(11671);let K=p&&window.__SWR_DEVTOOLS_USE__,Y=(K?window.__SWR_DEVTOOLS_USE__:[]).concat(e=>(t,r,a)=>{let n=r&&((...e)=>{let[a]=V(t),[,,,n]=s.get(F);if(a.startsWith("$inf$"))return r(...e);let i=n[a];return c(i)?r(...e):(delete n[a],i)});return e(t,n,a)});K&&(window.__SWR_DEVTOOLS_REACT__=r.default);let Z=()=>{},H=Z(),G=(new WeakMap,r.default.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}})),Q={dedupe:!0},X=Promise.resolve(l),ee=()=>i;o.defineProperty(z,"defaultValue",{value:W});let et=(t=(e,t,n)=>{let{cache:i,compare:o,suspense:m,fallbackData:h,revalidateOnMount:x,revalidateIfStale:p,refreshInterval:g,refreshWhenHidden:b,refreshWhenOffline:v,keepPreviousData:y,strictServerPrefetchWarning:N}=n,[j,R,k,_]=s.get(i),[C,A]=V(e),L=(0,r.useRef)(!1),D=(0,r.useRef)(!1),M=(0,r.useRef)(C),U=(0,r.useRef)(t),F=(0,r.useRef)(n),I=()=>F.current.isVisible()&&F.current.isOnline(),[W,B,q,z]=w(i,C),K=(0,r.useRef)({}).current,Y=c(h)?c(n.fallback)?l:n.fallback[C]:h,Z=(e,t)=>{for(let r in K)if("data"===r){if(!o(e[r],t[r])&&(!c(e[r])||!o(eo,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},H=!L.current,et=(0,r.useMemo)(()=>{let e=W(),r=z(),a=e=>{let r=u(e);return(delete r._k,(()=>{if(!C||!t||F.current.isPaused())return!1;if(H&&!c(x))return x;let e=c(Y)?r.data:Y;return c(e)||p})())?{isValidating:!0,isLoading:!0,...r}:r},n=a(e),s=e===r?n:a(r),i=n;return[()=>{let e=a(W());return Z(e,i)?(i.data=e.data,i.isLoading=e.isLoading,i.isValidating=e.isValidating,i.error=e.error,i):(i=e,e)},()=>s]},[i,C]),er=(0,a.useSyncExternalStore)((0,r.useCallback)(e=>q(C,(t,r)=>{Z(r,t)||e()}),[i,C]),et[0],et[1]),ea=j[C]&&j[C].length>0,en=er.data,es=c(en)?Y&&f(Y)?G(Y):Y:en,ei=er.error,el=(0,r.useRef)(es),eo=y?c(en)?c(el.current)?es:el.current:en:es,ec=C&&c(es),ed=(0,r.useRef)(null);S||(0,a.useSyncExternalStore)(ee,()=>(ed.current=!1,ed),()=>(ed.current=!0,ed));let eu=ed.current;N&&eu&&!m&&ec&&console.warn(`Missing pre-initiated data for serialized key "${C}" during server-side rendering. Data fetching should be initiated on the server and provided to SWR via fallback data. You can set "strictServerPrefetchWarning: false" to disable this warning.`);let ef=!(!C||!t||F.current.isPaused())&&(!ea||!!c(ei))&&(H&&!c(x)?x:m?!c(es)&&p:c(es)||p),em=c(er.isValidating)?ef:er.isValidating,eh=c(er.isLoading)?ef:er.isLoading,ex=(0,r.useCallback)(async e=>{let t,r,a=U.current;if(!C||!a||D.current||F.current.isPaused())return!1;let s=!0,i=e||{},u=!k[C]||!i.dedupe,f=()=>E?!D.current&&C===M.current&&L.current:C===M.current,m={isValidating:!1,isLoading:!1},h=()=>{B(m)},x=()=>{let e=k[C];e&&e[1]===r&&delete k[C]},p={isValidating:!0};c(W().data)&&(p.isLoading=!0);try{if(u&&(B(p),n.loadingTimeout&&c(W().data)&&setTimeout(()=>{s&&f()&&F.current.onLoadingSlow(C,n)},n.loadingTimeout),k[C]=[a(A),$()]),[t,r]=k[C],t=await t,u&&setTimeout(x,n.dedupingInterval),!k[C]||k[C][1]!==r)return u&&f()&&F.current.onDiscarded(C),!1;m.error=l;let e=R[C];if(!c(e)&&(r<=e[0]||r<=e[1]||0===e[1]))return h(),u&&f()&&F.current.onDiscarded(C),!1;let i=W().data;m.data=o(i,t)?i:t,u&&f()&&F.current.onSuccess(t,C,n)}catch(r){x();let e=F.current,{shouldRetryOnError:t}=e;!e.isPaused()&&(m.error=r,u&&f()&&(e.onError(r,C,e),(!0===t||d(t)&&t(r))&&(!F.current.revalidateOnFocus||!F.current.revalidateOnReconnect||I())&&e.onErrorRetry(r,C,e,e=>{let t=j[C];t&&t[0]&&t[0](J.ERROR_REVALIDATE_EVENT,e)},{retryCount:(i.retryCount||0)+1,dedupe:!0})))}return s=!1,h(),!0},[C,i]),ep=(0,r.useCallback)((...e)=>P(i,M.current,...e),[]);if(T(()=>{U.current=t,F.current=n,c(en)||(el.current=en)}),T(()=>{var e;let t;if(!C)return;let r=ex.bind(l,Q),a=0;F.current.revalidateOnFocus&&(a=Date.now()+F.current.focusThrottleInterval);let n=(e=(e,t={})=>{if(e==J.FOCUS_EVENT){let e=Date.now();F.current.revalidateOnFocus&&e>a&&I()&&(a=e+F.current.focusThrottleInterval,r())}else if(e==J.RECONNECT_EVENT)F.current.revalidateOnReconnect&&I()&&r();else if(e==J.MUTATE_EVENT)return ex();else if(e==J.ERROR_REVALIDATE_EVENT)return ex(t)},(t=j[C]||(j[C]=[])).push(e),()=>{let r=t.indexOf(e);r>=0&&(t[r]=t[t.length-1],t.pop())});return D.current=!1,M.current=C,L.current=!0,B({_k:A}),ef&&!k[C]&&(c(es)||S?r():O(r)),()=>{D.current=!0,n()}},[C]),T(()=>{let e;function t(){let t=d(g)?g(W().data):g;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!W().error&&(b||F.current.isVisible())&&(v||F.current.isOnline())?ex(Q).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[g,b,v,C]),(0,r.useDebugValue)(eo),m){if(!E&&S&&ec)throw Error("Fallback data is required when using Suspense in SSR.");ec&&(U.current=t,F.current=n,D.current=!1);let e=_[C];if(G(!c(e)&&ec?ep(e):X),!c(ei)&&ec)throw ei;let r=ec?ex(Q):X;!c(eo)&&ec&&(r.status="fulfilled",r.value=!0),G(r)}return{mutate:ep,get data(){return K.data=!0,eo},get error(){return K.error=!0,ei},get isValidating(){return K.isValidating=!0,em},get isLoading(){return K.isLoading=!0,eh}}},function(...e){let a,n=(a=(0,r.useContext)(q),(0,r.useMemo)(()=>u(W,a),[a])),[s,i,l]=d(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],o=B(n,l),c=t,{use:f}=o,m=(f||[]).concat(Y);for(let e=m.length;e--;)c=m[e](c);return c(s,i||o.fetcher||null,o)});e.s(["default",()=>et],83599)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},14764,e=>{"use strict";let t=(0,e.i(75254).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>t],14764)},75558,25063,e=>{"use strict";var t=e.i(75254);let r=(0,t.default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);e.s(["ArrowUp",()=>r],75558);let a=(0,t.default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);e.s(["ArrowDown",()=>a],25063)},64807,e=>{"use strict";var t=e.i(43476),r=e.i(18566),a=e.i(83599),n=e.i(9165),s=e.i(32341),i=e.i(71645),l=e.i(71689),o=e.i(75558),c=e.i(25063),d=e.i(14764);function u(){let e,u=(0,r.useRouter)(),{token:f}=(0,s.useAuth)(),{id:m}=(0,r.useParams)(),{data:h,error:x,mutate:p}=(0,a.default)(`/api/posts/${m}`,n.api),{data:g,mutate:b}=(0,a.default)(`/api/posts/${m}/comments`,n.api),[w,v]=(0,i.useState)(""),[y,N]=(0,i.useState)(""),[j,E]=(0,i.useState)(!1),[S,O]=(0,i.useState)(!1),[T,R]=(0,i.useState)(!1);if(x)return(0,t.jsx)("div",{className:"p-6",children:"Error loading."});if(!h)return(0,t.jsx)("div",{className:"p-6",children:"Loading…"});let{post:k,answers:_}=h;async function C(e){if(!f)return u.push("/login");E(!0);try{let t=await (0,n.api)(`/api/posts/${m}/vote`,{method:"POST",body:JSON.stringify({delta:e})});p(e=>e?{...e,post:{...e.post,votes:"number"==typeof t.votes?t.votes:e.post.votes,...void 0!==t.myVote?{myVote:t.myVote}:{}}}:e,{revalidate:!1})}finally{E(!1)}}async function A(){if(!f)return u.push("/login");let e=w.trim();if(e){O(!0);try{await (0,n.api)(`/api/posts/${m}/answers`,{method:"POST",body:JSON.stringify({body:e})}),v(""),p()}finally{O(!1)}}}async function L(){if(!f)return u.push("/login");let e=y.trim();if(e){R(!0);try{await (0,n.api)(`/api/posts/${m}/comments`,{method:"POST",body:JSON.stringify({text:e})}),N(""),b(),p()}finally{R(!1)}}}let V=[(e=k.vehicleTags||{}).make,e.model,e.yearFrom?`${e.yearFrom}${e.yearTo?"–"+e.yearTo:""}`:void 0,e.trim,e.engine].filter(Boolean).join(" • ");return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-600 text-white",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-22 pb-10",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-2",children:"Community"}),(0,t.jsx)("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto",children:"Connect with fellow auto enthusiasts and find the perfect parts for your vehicle."})]})})}),(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-10 md:py-16",children:[(0,t.jsxs)("button",{onClick:()=>u.back(),className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:[(0,t.jsx)(l.ArrowLeft,{className:"w-4 h-4"})," Back"]}),(0,t.jsx)("article",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>C(1),disabled:j,className:`h-9 w-9 inline-flex items-center justify-center rounded-lg border transition
                  ${1===k.myVote?"border-blue-500 text-blue-600 bg-blue-50":"border-slate-200 text-slate-500 hover:bg-slate-50"}`,"aria-label":"Upvote",children:(0,t.jsx)(o.ArrowUp,{className:"w-4 h-4"})}),(0,t.jsx)("div",{className:"text-sm font-semibold text-slate-700",children:k.votes??0}),(0,t.jsx)("button",{onClick:()=>C(-1),disabled:j,className:`h-9 w-9 inline-flex items-center justify-center rounded-lg border transition
                  ${-1===k.myVote?"border-rose-500 text-rose-600 bg-rose-50":"border-slate-200 text-slate-500 hover:bg-slate-50"}`,"aria-label":"Downvote",children:(0,t.jsx)(c.ArrowDown,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:k.title}),k.imageUrl&&(0,t.jsx)("img",{src:`${n.API}${k.imageUrl}`,alt:"",className:"mt-3 max-h-96 w-60 h-50 object-cover rounded-xl border"}),k.body&&(0,t.jsx)("p",{className:"mt-3 text-slate-700 whitespace-pre-wrap",children:k.body}),(V||(k.partTags?.length??0)>0)&&(0,t.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[V&&(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold border bg-slate-50 text-slate-700",children:V}),(k.partTags??[]).map(e=>(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold border bg-slate-50 text-slate-700",children:e},e))]}),(0,t.jsxs)("div",{className:"mt-3 text-xs text-slate-500",children:[k.authorName?(0,t.jsxs)(t.Fragment,{children:["By ",k.authorName," • "]}):null,k.createdAt?new Date(k.createdAt).toLocaleString():null,"number"==typeof k.commentsCount?(0,t.jsxs)(t.Fragment,{children:[" • ",k.commentsCount," comments"]}):null]})]})]})}),(0,t.jsxs)("section",{className:"mt-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Your answer"}),(0,t.jsx)("textarea",{rows:5,value:w,onChange:e=>v(e.target.value),placeholder:f?"Write your answer…":"Login to answer",className:"w-full rounded-xl border border-slate-300 px-4 py-3 text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!f}),(0,t.jsxs)("button",{onClick:A,disabled:!f||!w.trim()||S,className:"mt-3 inline-flex items-center gap-2 rounded-xl bg-slate-900 text-white px-4 py-2 hover:opacity-90 transition disabled:opacity-50",children:[S?(0,t.jsx)("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,t.jsx)(d.Send,{className:"w-4 h-4"}),"Post answer"]})]}),(0,t.jsxs)("section",{className:"mt-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Answers"}),0===_.length?(0,t.jsx)("p",{className:"text-slate-600",children:"No answers yet."}):(0,t.jsx)("ul",{className:"space-y-4",children:_.map(e=>(0,t.jsxs)("li",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4",children:[(0,t.jsx)("div",{className:"text-xs text-slate-500",children:e.createdAt?new Date(e.createdAt).toLocaleString():null}),(0,t.jsx)("p",{className:"mt-1 text-slate-800 whitespace-pre-wrap",children:e.body})]},e._id))})]}),(0,t.jsxs)("section",{className:"mt-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Comments"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{value:y,onChange:e=>N(e.target.value),placeholder:f?"Write a comment…":"Login to comment",className:"flex-1 rounded-xl border border-slate-300 px-4 py-3 text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!f}),(0,t.jsxs)("button",{onClick:L,disabled:!f||!y.trim()||T,className:"inline-flex items-center gap-2 rounded-xl bg-slate-900 text-white px-4 py-2 hover:opacity-90 transition disabled:opacity-50",children:[(0,t.jsx)(d.Send,{className:"w-4 h-4"}),"Send"]})]}),(0,t.jsx)("div",{className:"mt-4 space-y-3",children:g?0===g.comments.length?(0,t.jsx)("div",{className:"text-slate-600",children:"No comments yet."}):g.comments.map(e=>(0,t.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[(0,t.jsxs)("div",{className:"text-xs text-slate-500",children:[(0,t.jsx)("span",{className:"font-medium text-slate-700",children:e.authorName})," •"," ",new Date(e.createdAt).toLocaleString()]}),(0,t.jsx)("p",{className:"mt-1 text-slate-800",children:e.text})]},e._id)):(0,t.jsx)("div",{className:"text-slate-600",children:"Loading comments…"})})]})]})]})}e.s(["default",()=>u])}]);
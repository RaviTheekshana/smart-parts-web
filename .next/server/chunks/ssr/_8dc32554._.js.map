{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/refresh-ccw.ts","../../../../src/app/admin/testimonials/page.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8', key: '14sxne' }],\n  ['path', { d: 'M3 3v5h5', key: '1xhq8a' }],\n  ['path', { d: 'M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16', key: '1hlbsb' }],\n  ['path', { d: 'M16 16h5v5', key: 'ccwih5' }],\n];\n\n/**\n * @component @name RefreshCcw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMCAwLTktOSA5Ljc1IDkuNzUgMCAwIDAtNi43NCAyLjc0TDMgOCIgLz4KICA8cGF0aCBkPSJNMyAzdjVoNSIgLz4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAwIDAgOSA5IDkuNzUgOS43NSAwIDAgMCA2Ljc0LTIuNzRMMjEgMTYiIC8+CiAgPHBhdGggZD0iTTE2IDE2aDV2NSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/refresh-ccw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RefreshCcw = createLucideIcon('refresh-ccw', __iconNode);\n\nexport default RefreshCcw;\n","\"use client\";\r\n\r\nimport useSWR from \"swr\";\r\nimport { api } from \"@/lib/api\";\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { RefreshCcw } from \"lucide-react\";\r\n\r\ntype T = {\r\n  _id: string;\r\n  userId: string;\r\n  orderId: string;\r\n  rating: number;\r\n  title?: string;\r\n  body?: string;\r\n  published?: boolean;\r\n  createdAt?: string;\r\n};\r\n\r\nexport default function AdminTestimonialsPage() {\r\n  const router = useRouter();\r\n  const [query, setQuery] = useState(\"\");\r\n  const [rating, setRating] = useState(\"\");\r\n  const [published, setPublished] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n\r\n  const key = `/api/admin/testimonials?query=${encodeURIComponent(query)}&rating=${rating}&published=${published}&page=${page}&limit=20`;\r\n  const { data, mutate, isLoading } = useSWR<{ items: T[]; total: number; page: number; limit: number }>(key, api);\r\n  const items = data?.items ?? [];\r\n  const total = data?.total ?? 0;\r\n  const pages = Math.max(1, Math.ceil(total / 20));\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h1 className=\"text-2xl font-bold text-slate-900\">Testimonials</h1>\r\n\r\n      <div className=\"flex flex-wrap gap-2 items-center\">\r\n        <input\r\n          className=\"border rounded-xl px-3 py-2 text-sm\"\r\n          placeholder=\"Search title/body…\"\r\n          value={query}\r\n          onChange={(e) => { setQuery(e.target.value); setPage(1); }}\r\n        />\r\n        <select\r\n          className=\"border rounded-xl px-3 py-2 text-sm\"\r\n          value={rating}\r\n          onChange={(e) => { setRating(e.target.value); setPage(1); }}\r\n        >\r\n          <option value=\"\">Any rating</option>\r\n          {[5,4,3,2,1].map(n => <option key={n} value={n}>{n}★</option>)}\r\n        </select>\r\n        <select\r\n          className=\"border rounded-xl px-3 py-2 text-sm\"\r\n          value={published}\r\n          onChange={(e) => { setPublished(e.target.value); setPage(1); }}\r\n        >\r\n          <option value=\"\">All</option>\r\n          <option value=\"true\">Published</option>\r\n          <option value=\"false\">Hidden</option>\r\n        </select>\r\n        <button className=\"border rounded-xl px-3 py-2 text-sm inline-flex items-center gap-2\" onClick={() => mutate()}>\r\n          <RefreshCcw className=\"w-4 h-4\" /> Refresh\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"overflow-x-auto rounded-xl border border-slate-200 bg-white\">\r\n        <table className=\"min-w-full text-sm\">\r\n          <thead>\r\n            <tr className=\"border-b border-slate-200 text-left text-slate-600\">\r\n              <th className=\"py-2 px-4\">Rating</th>\r\n              <th className=\"py-2 px-4\">Title</th>\r\n              <th className=\"py-2 px-4\">Published</th>\r\n              <th className=\"py-2 px-4\">Order</th>\r\n              <th className=\"py-2 px-4\">User</th>\r\n              <th className=\"py-2 px-4\">Created</th>\r\n              <th className=\"py-2 px-4 text-right\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {items.map((t) => (\r\n              <tr key={t._id} className=\"border-b border-slate-200\">\r\n                <td className=\"py-2 px-4\">{t.rating}★</td>\r\n                <td className=\"py-2 px-4\">{t.title ?? \"—\"}</td>\r\n                <td className=\"py-2 px-4\">{t.published ? \"Yes\" : \"No\"}</td>\r\n                <td className=\"py-2 px-4\">\r\n                  <a className=\"text-blue-600 hover:underline\" href={`/orders/${t.orderId}`} target=\"_blank\" rel=\"noreferrer\">View</a>\r\n                </td>\r\n                <td className=\"py-2 px-4\">{t.userId}</td>\r\n                <td className=\"py-2 px-4\">{t.createdAt ? new Date(t.createdAt).toLocaleString() : \"—\"}</td>\r\n                <td className=\"py-2 px-4 text-right space-x-2\">\r\n                  <button\r\n                    onClick={() => router.push(`/admin/testimonials/${t._id}`)}\r\n                    className=\"text-blue-600 hover:text-blue-800\"\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                  <button\r\n                    onClick={async () => {\r\n                      if (!confirm(\"Delete this testimonial?\")) return;\r\n                      await api(`/api/admin/testimonials/${t._id}`, { method: \"DELETE\" });\r\n                      mutate();\r\n                    }}\r\n                    className=\"text-red-600 hover:text-red-800\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n            {!isLoading && items.length === 0 && (\r\n              <tr><td className=\"py-4 px-4 text-center text-slate-500\" colSpan={7}>No testimonials</td></tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {/* pagination */}\r\n      {pages > 1 && (\r\n        <div className=\"flex items-center gap-2\">\r\n          <button disabled={page<=1} onClick={()=>setPage(p=>p-1)} className=\"border rounded-xl px-3 py-1 disabled:opacity-50\">Prev</button>\r\n          <div className=\"text-sm text-slate-600\">Page {page} of {pages}</div>\r\n          <button disabled={page>=pages} onClick={()=>setPage(p=>p+1)} className=\"border rounded-xl px-3 py-1 disabled:opacity-50\">Next</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0]}
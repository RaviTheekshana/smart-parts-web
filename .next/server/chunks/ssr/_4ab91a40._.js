module.exports=[28790,a=>{"use strict";let b=(0,a.i(70106).default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);a.s(["RefreshCcw",()=>b],28790)},73969,a=>{"use strict";var b=a.i(87924),c=a.i(72596),d=a.i(19032),e=a.i(72131),f=a.i(50944),g=a.i(28790);function h(){let a=(0,f.useRouter)(),[h,i]=(0,e.useState)(""),[j,k]=(0,e.useState)(""),{data:l,mutate:m,isLoading:n}=(0,c.default)(`/api/admin/posts?query=${encodeURIComponent(h)}&status=${j}`,d.api),o=l?.posts??[];return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Posts"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{className:"border rounded-xl px-3 py-2 text-sm",placeholder:"Search title…",value:h,onChange:a=>i(a.target.value)}),(0,b.jsxs)("select",{className:"border rounded-xl px-3 py-2 text-sm",value:j,onChange:a=>k(a.target.value),children:[(0,b.jsx)("option",{value:"",children:"All"}),(0,b.jsx)("option",{value:"published",children:"Published"}),(0,b.jsx)("option",{value:"hidden",children:"Hidden"})]}),(0,b.jsxs)("button",{className:"border rounded-xl px-3 py-2 text-sm inline-flex items-center gap-2",onClick:()=>m(),children:[(0,b.jsx)(g.RefreshCcw,{className:"w-4 h-4"})," Refresh"]})]})]}),(0,b.jsx)("div",{className:"overflow-x-auto rounded-xl border border-slate-200 bg-white",children:(0,b.jsxs)("table",{className:"min-w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 text-left text-slate-600",children:[(0,b.jsx)("th",{className:"py-2 px-4",children:"Title"}),(0,b.jsx)("th",{className:"py-2 px-4",children:"Author"}),(0,b.jsx)("th",{className:"py-2 px-4",children:"Votes"}),(0,b.jsx)("th",{className:"py-2 px-4",children:"Published"}),(0,b.jsx)("th",{className:"py-2 px-4",children:"Created"}),(0,b.jsx)("th",{className:"py-2 px-4 text-right",children:"Actions"})]})}),(0,b.jsxs)("tbody",{children:[o.map(c=>(0,b.jsxs)("tr",{className:"border-b border-slate-200",children:[(0,b.jsx)("td",{className:"py-2 px-4",children:c.title}),(0,b.jsx)("td",{className:"py-2 px-4",children:c.authorName??"—"}),(0,b.jsx)("td",{className:"py-2 px-4",children:c.votes??0}),(0,b.jsx)("td",{className:"py-2 px-4",children:c.published?"Yes":"No"}),(0,b.jsx)("td",{className:"py-2 px-4",children:c.createdAt?new Date(c.createdAt).toLocaleString():"—"}),(0,b.jsxs)("td",{className:"py-2 px-4 text-right space-x-2",children:[(0,b.jsx)("button",{onClick:()=>a.push(`/admin/posts/${c._id}`),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),(0,b.jsx)("button",{onClick:async()=>{confirm("Delete this post?")&&(await (0,d.api)(`/api/admin/posts/${c._id}`,{method:"DELETE"}),m())},className:"text-red-600 hover:text-red-800",children:"Delete"})]})]},c._id)),!n&&0===o.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{className:"py-4 px-4 text-center text-slate-500",colSpan:6,children:"No posts"})})]})]})})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=_4ab91a40._.js.map
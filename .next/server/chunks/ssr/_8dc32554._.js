module.exports=[28790,a=>{"use strict";let b=(0,a.i(70106).default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);a.s(["RefreshCcw",()=>b],28790)},39403,a=>{"use strict";var b=a.i(87924),c=a.i(72596),d=a.i(19032),e=a.i(72131),f=a.i(50944),g=a.i(28790);function h(){let a=(0,f.useRouter)(),[h,i]=(0,e.useState)(""),[j,k]=(0,e.useState)(""),[l,m]=(0,e.useState)(""),[n,o]=(0,e.useState)(1),p=`/api/admin/testimonials?query=${encodeURIComponent(h)}&rating=${j}&published=${l}&page=${n}&limit=20`,{data:q,mutate:r,isLoading:s}=(0,c.default)(p,d.api),t=q?.items??[],u=Math.max(1,Math.ceil((q?.total??0)/20));return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Testimonials"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 items-center",children:[(0,b.jsx)("input",{className:"border rounded-xl px-3 py-2 text-sm",placeholder:"Search title/body…",value:h,onChange:a=>{i(a.target.value),o(1)}}),(0,b.jsxs)("select",{className:"border rounded-xl px-3 py-2 text-sm",value:j,onChange:a=>{k(a.target.value),o(1)},children:[(0,b.jsx)("option",{value:"",children:"Any rating"}),[5,4,3,2,1].map(a=>(0,b.jsxs)("option",{value:a,children:[a,"★"]},a))]}),(0,b.jsxs)("select",{className:"border rounded-xl px-3 py-2 text-sm",value:l,onChange:a=>{m(a.target.value),o(1)},children:[(0,b.jsx)("option",{value:"",children:"All"}),(0,b.jsx)("option",{value:"true",children:"Published"}),(0,b.jsx)("option",{value:"false",children:"Hidden"})]}),(0,b.jsxs)("button",{className:"border rounded-xl px-3 py-2 text-sm inline-flex items-center gap-2",onClick:()=>r(),children:[(0,b.jsx)(g.RefreshCcw,{className:"w-4 h-4"})," Refresh"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto rounded-xl border border-slate-200 bg-white",children:(0,b.jsxs)("table",{className:"min-w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 text-left text-slate-600",children:[(0,b.jsx)("th",{className:"py-2 px-4",children:"Rating"}),(0,b.jsx)("th",{className:"py-2 px-4",children:"Title"}),(0,b.jsx)("th",{className:"py-2 px-4",children:"Published"}),(0,b.jsx)("th",{className:"py-2 px-4",children:"Order"}),(0,b.jsx)("th",{className:"py-2 px-4",children:"User"}),(0,b.jsx)("th",{className:"py-2 px-4",children:"Created"}),(0,b.jsx)("th",{className:"py-2 px-4 text-right",children:"Actions"})]})}),(0,b.jsxs)("tbody",{children:[t.map(c=>(0,b.jsxs)("tr",{className:"border-b border-slate-200",children:[(0,b.jsxs)("td",{className:"py-2 px-4",children:[c.rating,"★"]}),(0,b.jsx)("td",{className:"py-2 px-4",children:c.title??"—"}),(0,b.jsx)("td",{className:"py-2 px-4",children:c.published?"Yes":"No"}),(0,b.jsx)("td",{className:"py-2 px-4",children:(0,b.jsx)("a",{className:"text-blue-600 hover:underline",href:`/orders/${c.orderId}`,target:"_blank",rel:"noreferrer",children:"View"})}),(0,b.jsx)("td",{className:"py-2 px-4",children:c.userId}),(0,b.jsx)("td",{className:"py-2 px-4",children:c.createdAt?new Date(c.createdAt).toLocaleString():"—"}),(0,b.jsxs)("td",{className:"py-2 px-4 text-right space-x-2",children:[(0,b.jsx)("button",{onClick:()=>a.push(`/admin/testimonials/${c._id}`),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),(0,b.jsx)("button",{onClick:async()=>{confirm("Delete this testimonial?")&&(await (0,d.api)(`/api/admin/testimonials/${c._id}`,{method:"DELETE"}),r())},className:"text-red-600 hover:text-red-800",children:"Delete"})]})]},c._id)),!s&&0===t.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{className:"py-4 px-4 text-center text-slate-500",colSpan:7,children:"No testimonials"})})]})]})}),u>1&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{disabled:n<=1,onClick:()=>o(a=>a-1),className:"border rounded-xl px-3 py-1 disabled:opacity-50",children:"Prev"}),(0,b.jsxs)("div",{className:"text-sm text-slate-600",children:["Page ",n," of ",u]}),(0,b.jsx)("button",{disabled:n>=u,onClick:()=>o(a=>a+1),className:"border rounded-xl px-3 py-1 disabled:opacity-50",children:"Next"})]})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=_8dc32554._.js.map
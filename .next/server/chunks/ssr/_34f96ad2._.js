module.exports=[28790,a=>{"use strict";let b=(0,a.i(70106).default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);a.s(["RefreshCcw",()=>b],28790)},32082,a=>{"use strict";var b=a.i(87924),c=a.i(72596),d=a.i(19032),e=a.i(72131),f=a.i(50944),g=a.i(28790);function h(){let a=(0,f.useRouter)(),[h,i]=(0,e.useState)(""),[j,k]=(0,e.useState)(""),[l,m]=(0,e.useState)(1),[n,o]=(0,e.useState)(20),{data:p,isLoading:q,mutate:r}=(0,c.default)(`/api/admin/orders?query=${encodeURIComponent(h)}&status=${j}&page=${l}&limit=${n}`,d.api),s=p?.orders??[],t=p?.totalPages??1;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Orders"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{className:"border rounded-xl px-3 py-2 text-sm",placeholder:"Search email or id…",value:h,onChange:a=>{i(a.target.value),m(1)}}),(0,b.jsxs)("select",{value:j,onChange:a=>{k(a.target.value),m(1)},className:"border rounded-xl px-3 py-2 text-sm",children:[(0,b.jsx)("option",{value:"",children:"All statuses"}),(0,b.jsx)("option",{value:"pending",children:"pending"}),(0,b.jsx)("option",{value:"paid",children:"paid"}),(0,b.jsx)("option",{value:"fulfilled",children:"fulfilled"}),(0,b.jsx)("option",{value:"cancelled",children:"cancelled"})]}),(0,b.jsxs)("button",{onClick:()=>r(),className:"inline-flex items-center gap-2 border px-3 py-2 rounded-xl text-sm",children:[(0,b.jsx)(g.RefreshCcw,{className:"w-4 h-4"})," Refresh"]})]})]}),(0,b.jsx)("div",{className:"overflow-x-auto rounded-xl border border-slate-200 bg-white",children:(0,b.jsxs)("table",{className:"min-w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 text-left text-slate-600",children:[(0,b.jsx)("th",{className:"py-2 px-4",children:"Order"}),(0,b.jsx)("th",{className:"py-2 px-4",children:"Customer"}),(0,b.jsx)("th",{className:"py-2 px-4",children:"Status"}),(0,b.jsx)("th",{className:"py-2 px-4",children:"Total"}),(0,b.jsx)("th",{className:"py-2 px-4",children:"Created"}),(0,b.jsx)("th",{className:"py-2 px-4 text-right",children:"Actions"})]})}),(0,b.jsxs)("tbody",{children:[s.map(c=>{let d;return(0,b.jsxs)("tr",{className:"border-b border-slate-200",children:[(0,b.jsx)("td",{className:"py-2 px-4 font-mono",children:c._id.slice(-6).toUpperCase()}),(0,b.jsx)("td",{className:"py-2 px-4",children:c.userEmail??"—"}),(0,b.jsx)("td",{className:"py-2 px-4 capitalize",children:c.status}),(0,b.jsx)("td",{className:"py-2 px-4",children:(d=c.grand,new Intl.NumberFormat(void 0,{style:"currency",currency:"LKR"}).format(d??0))}),(0,b.jsx)("td",{className:"py-2 px-4",children:c.createdAt?new Date(c.createdAt).toLocaleString():"—"}),(0,b.jsx)("td",{className:"py-2 px-4 text-right",children:(0,b.jsx)("button",{onClick:()=>a.push(`/admin/orders/${c._id}`),className:"text-blue-600 hover:text-blue-800",children:"View"})})]},c._id)}),!q&&0===s.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{className:"py-4 px-4 text-center text-slate-500",colSpan:6,children:"No orders"})})]})]})}),(0,b.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"text-sm text-slate-600",children:["Page ",p?.page??1," / ",t," • ",p?.total??0," results"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("select",{value:n,onChange:a=>{o(Number(a.target.value)),m(1)},className:"border rounded-xl px-2 py-1 text-sm",children:[10,20,50,100].map(a=>(0,b.jsxs)("option",{value:a,children:[a," / page"]},a))}),(0,b.jsx)("button",{className:"border rounded-xl px-3 py-1 disabled:opacity-50",disabled:l<=1,onClick:()=>m(a=>Math.max(1,a-1)),children:"Prev"}),(0,b.jsx)("button",{className:"border rounded-xl px-3 py-1 disabled:opacity-50",disabled:l>=t,onClick:()=>m(a=>Math.min(t,a+1)),children:"Next"})]})]})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=_34f96ad2._.js.map
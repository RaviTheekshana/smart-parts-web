{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theek/Documents/DA%20Project/smart-parts/web/src/app/checkout/success/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useSearchParams, useRouter } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function SuccessPage() {\r\n  const sp = useSearchParams();\r\n  const router = useRouter();\r\n  const sessionId = sp.get(\"session_id\");\r\n  const [done, setDone] = useState(false);\r\n  const [err, setErr] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    async function run() {\r\n      try {\r\n        if (!sessionId) return setErr(\"Missing session_id\");\r\n        // call your Express backend via NEXT_PUBLIC_API\r\n        const res = await fetch(`${process.env.NEXT_PUBLIC_API}/api/orders/finalize`, {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${localStorage.getItem(\"token\") || \"\"}` },\r\n          body: JSON.stringify({ session_id: sessionId }),\r\n        });\r\n        if (!res.ok) throw new Error(await res.text());\r\n        setDone(true);\r\n      } catch (e: any) {\r\n        setErr(e.message);\r\n      }\r\n    }\r\n    run();\r\n  }, [sessionId]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center p-6\">\r\n      <div className=\"max-w-md w-full rounded-2xl border border-emerald-300/60 dark:border-emerald-800/60 bg-emerald-50 dark:bg-emerald-900/20 p-8 text-center\">\r\n        <h1 className=\"text-2xl font-bold text-emerald-700 dark:text-emerald-300\">\r\n          Payment successful ðŸŽ‰\r\n        </h1>\r\n        <p className=\"mt-2 text-slate-700 dark:text-slate-300\">\r\n          {done ? \"Your order is finalized.\" : err ? `Finalize failed: ${err}` : \"Finalizing your order...\"}\r\n        </p>\r\n        <button\r\n          onClick={() => router.push(\"/orders\")}\r\n          className=\"mt-6 inline-flex rounded-xl bg-slate-900 text-white dark:bg-white dark:text-slate-900 px-4 py-2 hover:opacity-90 transition\"\r\n        >\r\n          View orders\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIe,SAAS;IACtB,MAAM,KAAK,IAAA,qJAAe;IAC1B,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,YAAY,GAAG,GAAG,CAAC;IACzB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAgB;IAE9C,IAAA,kNAAS,EAAC;QACR,eAAe;YACb,IAAI;gBACF,IAAI,CAAC,WAAW,OAAO,OAAO;gBAC9B,gDAAgD;gBAChD,MAAM,MAAM,MAAM,MAAM,6DAA+B,oBAAoB,CAAC,EAAE;oBAC5E,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;wBAAoB,eAAe,CAAC,OAAO,EAAE,aAAa,OAAO,CAAC,YAAY,IAAI;oBAAC;oBAC9G,MAAM,KAAK,SAAS,CAAC;wBAAE,YAAY;oBAAU;gBAC/C;gBACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,MAAM,IAAI,IAAI;gBAC3C,QAAQ;YACV,EAAE,OAAO,GAAQ;gBACf,OAAO,EAAE,OAAO;YAClB;QACF;QACA;IACF,GAAG;QAAC;KAAU;IAEd,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA4D;;;;;;8BAG1E,8OAAC;oBAAE,WAAU;8BACV,OAAO,6BAA6B,MAAM,CAAC,iBAAiB,EAAE,KAAK,GAAG;;;;;;8BAEzE,8OAAC;oBACC,SAAS,IAAM,OAAO,IAAI,CAAC;oBAC3B,WAAU;8BACX;;;;;;;;;;;;;;;;;AAMT","debugId":null}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theek/Documents/DA%20Project/smart-parts/web/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}
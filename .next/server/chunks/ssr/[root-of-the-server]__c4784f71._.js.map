{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theek/Documents/DA%20Project/smart-parts/web/src/lib/api.ts"],"sourcesContent":["export const API = process.env.NEXT_PUBLIC_API || \"http://localhost:3001\";\n\nlet token: string | null = null;\n\nexport function setToken(t: string | null) {\n  token = t;\n  if (typeof window !== \"undefined\") {\n    if (t) localStorage.setItem(\"token\", t);\n    else localStorage.removeItem(\"token\");\n  }\n}\n\nexport function getToken() {\n  if (token) return token;\n  if (typeof window !== \"undefined\") {\n    const t = localStorage.getItem(\"token\");\n    if (t) token = t;\n  }\n  return token;\n}\n\nexport async function api<T>(path: string, init: RequestInit = {}): Promise<T> {\n  const auth = getToken();\n  const headers: any = { \"Content-Type\": \"application/json\", ...(init.headers || {}) };\n  if (auth) headers.Authorization = `Bearer ${auth}`;\n  const res = await fetch(`${API}${path}`, { ...init, headers, cache: \"no-store\" });\n  if (!res.ok) throw new Error(await res.text());\n  return res.json();\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAO,MAAM,MAAM,6DAA+B;AAElD,IAAI,QAAuB;AAEpB,SAAS,SAAS,CAAgB;IACvC,QAAQ;IACR;;AAIF;AAEO,SAAS;IACd,IAAI,OAAO,OAAO;IAClB;;IAIA,OAAO;AACT;AAEO,eAAe,IAAO,IAAY,EAAE,OAAoB,CAAC,CAAC;IAC/D,MAAM,OAAO;IACb,MAAM,UAAe;QAAE,gBAAgB;QAAoB,GAAI,KAAK,OAAO,IAAI,CAAC,CAAC;IAAE;IACnF,IAAI,MAAM,QAAQ,aAAa,GAAG,CAAC,OAAO,EAAE,MAAM;IAClD,MAAM,MAAM,MAAM,MAAM,GAAG,MAAM,MAAM,EAAE;QAAE,GAAG,IAAI;QAAE;QAAS,OAAO;IAAW;IAC/E,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,MAAM,IAAI,IAAI;IAC3C,OAAO,IAAI,IAAI;AACjB","debugId":null}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theek/Documents/DA%20Project/smart-parts/web/src/context/AuthContext.tsx"],"sourcesContent":["\"use client\";\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\nimport { getToken, setToken } from \"@/lib/api\";\nimport { jwtDecode } from \"jwt-decode\";\n\ntype Decoded = { _id?: string; id?: string; userId?: string; email?: string; role?: string };\ntype UserInfo = { id: string; email?: string; role?: string } | null;\n\ntype AuthCtx = {\n  token: string | null;\n  user: UserInfo;\n  isAuthLoading: boolean;\n  login: (t: string) => void;\n  logout: () => void;\n};\n\nconst AuthContext = createContext<AuthCtx | null>(null);\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [token, setT] = useState<string | null>(null);\n  const [user, setUser] = useState<UserInfo>(null);\n  const [isAuthLoading, setIsAuthLoading] = useState(true);\n\n  const decodeUser = (t: string | null): UserInfo => {\n    if (!t) return null;\n    try {\n      const d = jwtDecode<Decoded>(t);\n      return { id: d._id || d.id || d.userId || \"\", email: d.email, role: d.role };\n    } catch {\n      return null;\n    }\n  };\n\n  useEffect(() => {\n    const t = getToken();\n    setT(t);\n    setUser(decodeUser(t));\n    setIsAuthLoading(false);\n  }, []);\n\n  const login = (t: string) => {\n    setToken(t);\n    setT(t);\n    setUser(decodeUser(t));\n  };\n\n  const logout = () => {\n    setToken(null);\n    setT(null);\n    setUser(null);\n  };\n\n  return (\n    <AuthContext.Provider value={{ token, user, isAuthLoading, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const ctx = useContext(AuthContext);\n  if (!ctx) throw new Error(\"useAuth must be used within AuthProvider\");\n  return ctx;\n}\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AAHA;;;;;AAgBA,MAAM,4BAAc,IAAA,sNAAa,EAAiB;AAE3C,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,OAAO,KAAK,GAAG,IAAA,iNAAQ,EAAgB;IAC9C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAW;IAC3C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IAEnD,MAAM,aAAa,CAAC;QAClB,IAAI,CAAC,GAAG,OAAO;QACf,IAAI;YACF,MAAM,IAAI,IAAA,mKAAS,EAAU;YAC7B,OAAO;gBAAE,IAAI,EAAE,GAAG,IAAI,EAAE,EAAE,IAAI,EAAE,MAAM,IAAI;gBAAI,OAAO,EAAE,KAAK;gBAAE,MAAM,EAAE,IAAI;YAAC;QAC7E,EAAE,OAAM;YACN,OAAO;QACT;IACF;IAEA,IAAA,kNAAS,EAAC;QACR,MAAM,IAAI,IAAA,6HAAQ;QAClB,KAAK;QACL,QAAQ,WAAW;QACnB,iBAAiB;IACnB,GAAG,EAAE;IAEL,MAAM,QAAQ,CAAC;QACb,IAAA,6HAAQ,EAAC;QACT,KAAK;QACL,QAAQ,WAAW;IACrB;IAEA,MAAM,SAAS;QACb,IAAA,6HAAQ,EAAC;QACT,KAAK;QACL,QAAQ;IACV;IAEA,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAO;YAAM;YAAe;YAAO;QAAO;kBACtE;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,MAAM,IAAA,mNAAU,EAAC;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT","debugId":null}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theek/Documents/DA%20Project/smart-parts/web/src/components/HeaderClient.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { useAuth } from \"@/context/AuthContext\";\nimport { ChevronDownIcon, Bars3Icon, XMarkIcon } from \"@heroicons/react/24/outline\";\n\nexport default function HeaderClient() {\n  const { token, logout, user } = useAuth();\n  const [isScrolled, setIsScrolled] = useState(false);\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      setIsScrolled(window.scrollY > 10);\n    };\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n\n  return (\n    <header \n      className={`fixed top-0 left-0 right-0 z-50 transition-all duration-30 ${\n        isScrolled \n          ? \"bg-black/50 backdrop-blur-xs shadow-lg\" \n          : \"bg-transparent\"\n      }`}\n    >\n      <div className=\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex items-center justify-between h-16 lg:h-20\">\n          {/* Logo */}\n          <Link href=\"/\" className=\"flex items-center space-x-2\">\n            <span className=\"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent\">\n              <img src=\"/logo.png\" alt=\"Logo\" className=\"w-32 h-31 pt-1\" />\n            </span>\n          </Link>\n\n          {/* Desktop Navigation */}\n          <nav className=\"hidden lg:flex items-center space-x-8\">\n            <Link \n              href=\"/catalog\" \n              className=\"text-white hover:text-gray-400 font-medium transition-colors duration-200\"\n            >\n              Catalog\n            </Link>\n            <Link \n              href=\"/cart\" \n              className=\"text-white hover:text-gray-400 font-medium transition-colors duration-200 relative\"\n            >\n              Cart\n              <span className=\"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\">\n                3\n              </span>\n            </Link>\n            <Link \n              href=\"/orders\" \n              className=\"text-white hover:text-gray-400 font-medium transition-colors duration-200\"\n            >\n              Orders\n            </Link>\n            <Link \n              href=\"/community\" \n              className=\"text-white hover:text-gray-400 font-medium transition-colors duration-200\"\n            >\n              Community\n            </Link>\n          </nav>\n\n          {/* Desktop Auth Buttons */}\n          <div className=\"hidden lg:flex items-center space-x-4\">\n            {token ? (\n              <div className=\"flex items-center space-x-4\">\n                <div className=\"flex items-center space-x-2 cursor-pointer group\">\n                  <div className=\"w-8 h-8 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center\">\n                    <span className=\"text-white text-sm font-medium\">U</span>\n                  </div>\n                  <ChevronDownIcon className=\"w-4 h-4 text-gray-500 group-hover:text-purple-600 transition-colors\" />\n                </div>\n                <button \n                  onClick={logout}\n                  className=\"bg-gray-100 hover:bg-gray-200 text-zinc-700 px-4 py-2 rounded-lg font-medium transition-colors duration-200\"\n                >\n                  Logout\n                </button>\n              </div>\n            ) : (\n              <>\n                <Link \n                  href=\"/login\"\n                  className=\"text-white hover:text-gray-400 font-medium transition-colors duration-200\"\n                >\n                  Login\n                </Link>\n                <Link \n                  href=\"/register\"\n                  className=\"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl\"\n                >\n                  Register\n                </Link>\n              </>\n            )}\n            {user?.role === \"admin\" && (\n              <a\n                href=\"/admin\"\n                className=\"inline-flex items-center rounded-xl bg-slate-900 text-white dark:bg-white dark:text-slate-900 px-3 py-1.5 text-sm hover:opacity-90 transition\"\n              >\n                Admin\n              </a>\n            )}\n          </div>\n\n          {/* Mobile Menu Button */}\n          <button\n            onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\n            className=\"lg:hidden p-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors\"\n          >\n            {isMobileMenuOpen ? (\n              <XMarkIcon className=\"w-6 h-6\" />\n            ) : (\n              <Bars3Icon className=\"w-6 h-6\" />\n            )}\n          </button>\n        </div>\n\n        {/* Mobile Menu */}\n        {isMobileMenuOpen && (\n          <div className=\"lg:hidden absolute top-full left-0 right-0 bg-white shadow-lg border-t border-gray-200\">\n            <div className=\"px-4 py-6 space-y-4\">\n              <Link \n                href=\"/catalog\"\n                className=\"block text-gray-700 hover:text-purple-600 font-medium py-2\"\n                onClick={() => setIsMobileMenuOpen(false)}\n              >\n                Catalog\n              </Link>\n              <Link \n                href=\"/cart\"\n                className=\"block text-gray-700 hover:text-purple-600 font-medium py-2\"\n                onClick={() => setIsMobileMenuOpen(false)}\n              >\n                Cart\n              </Link>\n              <Link \n                href=\"/orders\"\n                className=\"block text-gray-700 hover:text-purple-600 font-medium py-2\"\n                onClick={() => setIsMobileMenuOpen(false)}\n              >\n                Orders\n              </Link>\n              <Link \n                href=\"/community\"\n                className=\"block text-gray-700 hover:text-purple-600 font-medium py-2\"\n                onClick={() => setIsMobileMenuOpen(false)}\n              >\n                Community\n              </Link>\n              \n              <hr className=\"border-gray-200\" />\n              \n              {token ? (\n                <button \n                  onClick={() => {\n                    logout();\n                    setIsMobileMenuOpen(false);\n                  }}\n                  className=\"block w-full text-left text-gray-700 hover:text-purple-600 font-medium py-2\"\n                >\n                  Logout\n                </button>\n              ) : (\n                <div className=\"space-y-3\">\n                  <Link \n                    href=\"/login\"\n                    className=\"block text-gray-700 hover:text-purple-600 font-medium py-2\"\n                    onClick={() => setIsMobileMenuOpen(false)}\n                  >\n                    Login\n                  </Link>\n                  <Link \n                    href=\"/register\"\n                    className=\"block bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg font-medium text-center\"\n                    onClick={() => setIsMobileMenuOpen(false)}\n                  >\n                    Register\n                  </Link>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}
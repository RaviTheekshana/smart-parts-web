module.exports=[28790,a=>{"use strict";let b=(0,a.i(70106).default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);a.s(["RefreshCcw",()=>b],28790)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},24569,a=>{"use strict";let b=(0,a.i(70106).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],24569)},631,a=>{"use strict";var b=a.i(87924),c=a.i(72596),d=a.i(19032),e=a.i(50944),f=a.i(72131),g=a.i(15618),h=a.i(24569),i=a.i(81560),j=a.i(28790);let k=(0,a.i(70106).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);function l(){let a=(0,e.useRouter)(),[l,m]=(0,f.useState)(""),[n,o]=(0,f.useState)(1),[p,q]=(0,f.useState)(20),{data:r,mutate:s,isLoading:t}=(0,c.default)(`/api/admin/parts?query=${encodeURIComponent(l)}&page=${n}&limit=${p}`,d.api),u=r?.totalPages??1,v=r?.parts||[];async function w(a){confirm("Delete this part?")&&(await (0,d.api)(`/api/admin/parts/${a}`,{method:"DELETE"}),s())}return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Products"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{value:l,onChange:a=>m(a.target.value),placeholder:"Search sku, name, brand...",className:"border rounded-xl px-3 py-2 text-sm"}),(0,b.jsxs)("button",{onClick:()=>a.push("/admin/products/import"),className:"inline-flex items-center gap-2 border px-3 py-2 rounded-xl text-sm",children:[(0,b.jsx)(k,{className:"w-4 h-4"})," Import CSV"]}),(0,b.jsxs)("button",{onClick:()=>a.push("/admin/products/new"),className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-xl text-sm",children:[(0,b.jsx)(g.Plus,{className:"w-4 h-4"})," New"]}),(0,b.jsxs)("button",{onClick:()=>s(),className:"inline-flex items-center gap-2 border px-3 py-2 rounded-xl text-sm",children:[(0,b.jsx)(j.RefreshCcw,{className:"w-4 h-4"})," Refresh"]})]})]}),(0,b.jsxs)("div",{className:"overflow-x-auto rounded-xl border border-slate-200 bg-white",children:[(0,b.jsxs)("table",{className:"min-w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 text-left text-slate-600",children:[(0,b.jsx)("th",{className:"py-2 px-4",children:"SKU"}),(0,b.jsx)("th",{className:"py-2 px-4",children:"Name"}),(0,b.jsx)("th",{className:"py-2 px-4",children:"Brand"}),(0,b.jsx)("th",{className:"py-2 px-4",children:"Price"}),(0,b.jsx)("th",{className:"py-2 px-4",children:"Created"}),(0,b.jsx)("th",{className:"py-2 px-4 text-right",children:"Actions"})]})}),(0,b.jsxs)("tbody",{children:[v.map(c=>{let d;return(0,b.jsxs)("tr",{className:"border-b border-slate-200 hover:bg-gray-100",children:[(0,b.jsx)("td",{className:"py-2 px-4 font-mono",children:c.sku}),(0,b.jsx)("td",{className:"py-2 px-4",children:c.name}),(0,b.jsx)("td",{className:"py-2 px-4",children:c.brand??"—"}),(0,b.jsx)("td",{className:"py-2 px-4",children:"number"==typeof(d=c.price)?new Intl.NumberFormat(void 0,{style:"currency",currency:"LKR"}).format(d):"-"}),(0,b.jsx)("td",{className:"py-2 px-4",children:c.createdAt?new Date(c.createdAt).toLocaleDateString():"—"}),(0,b.jsxs)("td",{className:"py-2 px-4 text-right space-x-2",children:[(0,b.jsx)("button",{onClick:()=>a.push(`/admin/products/${c._id}`),className:"inline-flex items-center text-blue-600 hover:text-blue-800",children:(0,b.jsx)(h.Edit,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>w(c._id),className:"inline-flex items-center text-red-600 hover:text-red-800",children:(0,b.jsx)(i.Trash2,{className:"w-4 h-4"})})]})]},c._id)}),!t&&0===v.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{className:"py-4 px-4 text-center text-slate-500",colSpan:6,children:"No products found"})})]})]}),(0,b.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"text-sm text-slate-600",children:["Page ",r?.page??1," / ",u,", ",r?.total??0," results"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("select",{value:p,onChange:a=>{q(Number(a.target.value)),o(1)},className:"border rounded-xl px-2 py-1 text-sm",children:[10,20,50,100].map(a=>(0,b.jsxs)("option",{value:a,children:[a," / page"]},a))}),(0,b.jsx)("button",{className:"border rounded-xl px-3 py-1 disabled:opacity-50",disabled:n<=1,onClick:()=>o(a=>Math.max(1,a-1)),children:"Prev"}),(0,b.jsx)("button",{className:"border rounded-xl px-3 py-1 disabled:opacity-50",disabled:n>=u,onClick:()=>o(a=>Math.min(u,a+1)),children:"Next"})]})]})]})]})}a.s(["default",()=>l],631)}];

//# sourceMappingURL=_8af66ac1._.js.map
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theek/Documents/DA%20Project/smart-parts/web/src/app/api/payments/checkout/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\nimport Stripe from \"stripe\";\r\n\r\nexport async function GET() {\r\n  // For quick sanity check in the browser\r\n  return NextResponse.json({ ok: true, route: \"/api/payments/checkout\" });\r\n}\r\n\r\nconst stripe = new Stripe(process.env.STRIPE_SECRET_KEY!, { apiVersion: \"2025-09-30.clover\" });\r\n\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    const baseUrl = process.env.NEXT_PUBLIC_BASE_URL || \"http://localhost:3001\";\r\n    const session = await stripe.checkout.sessions.create({\r\n      mode: \"payment\",\r\n      line_items: [\r\n        {\r\n          quantity: 1,\r\n          price_data: {\r\n            currency: \"usd\",\r\n            unit_amount: 100,\r\n            product_data: { name: \"Test item\" },\r\n          },\r\n        },\r\n      ],\r\n      success_url: `${baseUrl}/checkout/success?session_id={CHECKOUT_SESSION_ID}`,\r\n      cancel_url: `${baseUrl}/checkout/cancel`,\r\n    });\r\n\r\n    return NextResponse.json({ url: session.url });\r\n  } catch (e: any) {\r\n    console.error(\"checkout error:\", e);\r\n    return NextResponse.json({ error: e.message ?? \"Failed to create session\" }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe;IACpB,wCAAwC;IACxC,OAAO,gJAAY,CAAC,IAAI,CAAC;QAAE,IAAI;QAAM,OAAO;IAAyB;AACvE;AAEA,MAAM,SAAS,IAAI,mKAAM,CAAC,QAAQ,GAAG,CAAC,iBAAiB,EAAG;IAAE,YAAY;AAAoB;AAErF,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM,UAAU,6DAAoC;QACpD,MAAM,UAAU,MAAM,OAAO,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC;YACpD,MAAM;YACN,YAAY;gBACV;oBACE,UAAU;oBACV,YAAY;wBACV,UAAU;wBACV,aAAa;wBACb,cAAc;4BAAE,MAAM;wBAAY;oBACpC;gBACF;aACD;YACD,aAAa,GAAG,QAAQ,kDAAkD,CAAC;YAC3E,YAAY,GAAG,QAAQ,gBAAgB,CAAC;QAC1C;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,KAAK,QAAQ,GAAG;QAAC;IAC9C,EAAE,OAAO,GAAQ;QACf,QAAQ,KAAK,CAAC,mBAAmB;QACjC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO,EAAE,OAAO,IAAI;QAA2B,GAAG;YAAE,QAAQ;QAAI;IAC7F;AACF","debugId":null}}]
}